(this["webpackJsonpbeta-src"]=this["webpackJsonpbeta-src"]||[]).push([[0],{13:function(t,e,r){"use strict";var a;!function(t){t.DESKTOP="DESKTOP",t.MOBILE="MOBILE",t.MOBILE_LANDSCAPE="MOBILE_LANDSCAPE",t.MOBILE_LG="MOBILE_LG",t.MOBILE_LG_LANDSCAPE="MOBILE_LG_LANDSCAPE",t.TABLET="TABLET",t.TABLET_LANDSCAPE="TABLET_LANDSCAPE"}(a||(a={})),e.a=a},155:function(t,e,r){},156:function(t,e,r){},177:function(t,e,r){"use strict";r.r(e);var a,n=r(0),i=r.n(n),o=r(40),s=r.n(o),c=r(215),u=r(226),l=r(62),d=r(63),h=(r(155),r(156),r(216)),p=r(24),v=r(34),f=r(3),A=r(12),m=r(8),b=r(54),y=r(225),O=r(212);!function(t){t.BOTTOM_LEFT="bottom-left",t.BOTTOM_RIGHT="bottom-right",t.TOP_LEFT="top-left",t.TOP_RIGHT="top-right"}(a||(a={}));var N=a,E=r(1),j={mobile:16,tablet:24,desktop:24},S=function(t){var e=t.children,r=t.position,a=Object(n.useMemo)((function(){switch(r){case N.BOTTOM_LEFT:return{bottom:j,left:j};case N.BOTTOM_RIGHT:return{bottom:j,right:j};case N.TOP_RIGHT:return{right:j,top:j};case N.TOP_LEFT:default:return{left:j,top:j}}}),[r]);return Object(E.jsx)(h.a,{sx:Object(A.a)({position:"absolute",zIndex:2},a),children:e})};S.defaultProps={position:N.TOP_LEFT};var T,C=S,L=r(217),I=r(218),g=r(219),x=r(220),R=r(205),D=r(221),P=function(t){var e=t.children,r=t.lineHeight,a=t.maxHeight,n=t.WebkitLineClamp;return Object(E.jsx)(h.a,{sx:{display:"-webkit-box",lineHeight:r,maxHeight:a,overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:n,wordWrap:"break-word"},children:e})},B=r(13),M=r(29),k=r(30),w={border:"none",fontSize:"0.7rem",p:"0 5px 0 0"},U=function(t){var e=t.alternatives,r=t.phase,a=t.potNumber,n=t.season,i=t.title,o=t.year,s=Object(k.a)(),c=Object(m.a)(s,1)[0],u=Object(M.a)(c),l=u===B.a.MOBILE_LANDSCAPE||u===B.a.MOBILE_LG_LANDSCAPE||u===B.a.MOBILE||u===B.a.MOBILE_LG?260:320;return Object(E.jsx)(L.a,{sx:{overflowX:"inherit"},children:Object(E.jsxs)(I.a,{"aria-label":"A table of game information",size:"small",sx:{width:l},children:[Object(E.jsx)(g.a,{children:Object(E.jsx)(x.a,{children:Object(E.jsx)(R.a,{sx:{border:"none",fontWeight:600,p:"2px 5px 5px 0"},children:Object(E.jsx)(P,{lineHeight:"1.2rem",maxHeight:"2.4rem",WebkitLineClamp:2,children:i})})})}),Object(E.jsxs)(D.a,{children:[Object(E.jsx)(x.a,{children:Object(E.jsxs)(R.a,{sx:w,children:["Pot: ",a," - ",n," ",o," - ",Object(E.jsx)("b",{children:r})]})}),Object(E.jsx)(x.a,{children:Object(E.jsx)(R.a,{sx:w,children:e})})]})]})})},_=r(17);!function(t){t[t.cancel=0]="cancel",t[t.draw=1]="draw",t[t.pause=2]="pause"}(T||(T={}));var G=T,H=r(87),F=r(213),V=r(10),Y=[{id:"power",label:"Power",icon:function(){var t=Object(b.a)();return Object(E.jsx)("svg",{width:"17",height:"16",viewBox:"0 0 17 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(E.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.70981 0.477386C1.78835 0.619928 1.82959 0.781129 1.82946 0.94512C1.82981 1.10363 1.79129 1.25965 1.71748 1.39864C1.64367 1.53763 1.53697 1.65507 1.40733 1.74V15H0.422124V1.74C0.288272 1.65169 0.179006 1.52891 0.105082 1.38376C0.0311585 1.23861 -0.0048749 1.07608 0.000529656 0.912187C0.00593421 0.748291 0.0525902 0.588672 0.135905 0.449046C0.219219 0.309419 0.336321 0.194598 0.47568 0.115885C0.615039 0.0371731 0.771851 -0.00271635 0.93068 0.000143651C1.08951 0.00300365 1.24488 0.0485146 1.38149 0.132196C1.51811 0.215878 1.63126 0.334845 1.70981 0.477386ZM6.82686 10.3877C3.67647 10.3877 2.34265 11.6935 2.34265 11.6935V2.12591C3.87882 0.511105 5.98034 0.288913 10.7745 2.00699C14.7654 3.44263 16.7615 1.84034 16.7615 1.84034C15.5 6.5 12.8518 6.80289 12.8518 6.80289C13.3353 8.67822 16.1636 11.7529 16.1636 11.7529C15.8415 11.8953 14.876 12.1089 14.1977 12.0729C12.8739 12.0034 11.8654 11.6305 10.8447 11.2531C9.68237 10.8233 8.50427 10.3877 6.82686 10.3877Z",fill:t.palette.primary.main})})},align:"left"},{id:"unitNo",label:"Units",icon:function(){var t=Object(b.a)();return Object(E.jsx)("svg",{width:"31",height:"16",viewBox:"0 0 30 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(E.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.96588 5.41579H14L9.71916 8.56579L11.2992 14L7 10.8684L2.68241 14L4.29921 8.54737L0 5.41579H5.07087L6.98163 0L8.96588 5.41579ZM28.3195 7.60486C28.8782 7.02312 29.3431 6.35499 29.6971 5.62524C30.0303 6.56852 30.09 7.58962 29.8693 8.56659C29.4904 10.1601 28.9394 10.5462 28.9394 10.5462C28.9274 10.1651 28.8906 9.78515 28.8292 9.40898C28.2569 10.2167 27.5751 10.9376 26.8041 11.5501C26.0815 12.1296 25.3093 12.6418 24.4967 13.0804C24.1235 13.3383 23.7874 13.6478 23.4979 14C23.2105 13.6483 22.8767 13.3388 22.506 13.0804C21.6934 12.6418 20.9212 12.1296 20.1986 11.5501C19.4276 10.9376 18.7458 10.2167 18.1735 9.40898C18.1122 9.78515 18.0753 10.1651 18.0633 10.5462C18.0633 10.5462 17.5123 10.1601 17.1334 8.56659C16.9105 7.59029 16.9678 6.56921 17.2988 5.62524C17.6527 6.35499 18.1176 7.02312 18.6763 7.60486C19.2836 8.05578 19.958 8.40421 20.6739 8.63679C20.195 8.92681 19.6233 9.01258 19.0827 8.87546C19.0827 8.87546 18.7315 8.86142 19.3445 9.38792C19.9317 9.99516 20.635 10.473 21.4109 10.7919C21.5608 10.8277 21.7163 10.8322 21.868 10.8049C22.0197 10.7776 22.1643 10.7192 22.2931 10.6332C22.422 10.5472 22.5323 10.4354 22.6175 10.3046C22.7026 10.1738 22.7608 10.0267 22.7884 9.87229C22.878 9.50726 22.9469 6.45359 22.9469 4.45994L21.5142 4.03172C21.4877 4.06765 21.451 4.09436 21.4091 4.10818C21.3672 4.12201 21.3221 4.12227 21.28 4.10894C21.2372 4.09511 21.1991 4.06938 21.1699 4.03465C21.1407 3.99993 21.1216 3.95758 21.1147 3.91238L20.7427 3.80006C20.7146 3.8358 20.6766 3.86222 20.6337 3.87596C20.5908 3.88971 20.5448 3.89017 20.5017 3.87728C20.4588 3.86468 20.4208 3.83915 20.3925 3.80406C20.3642 3.76897 20.347 3.72597 20.3432 3.68073L20.0264 3.58245C20.001 3.57517 19.9773 3.56284 19.9566 3.54618C19.9359 3.52951 19.9187 3.50883 19.9058 3.48534C19.893 3.46184 19.8849 3.436 19.882 3.40929C19.879 3.38258 19.8813 3.35554 19.8886 3.32973L20.0539 2.76814C20.0763 2.72192 20.1151 2.68607 20.1624 2.66783C20.2097 2.64959 20.262 2.65032 20.3088 2.66986L20.6256 2.76814C20.6538 2.7324 20.6918 2.70598 20.7347 2.69224C20.7776 2.67849 20.8235 2.67803 20.8667 2.69092C20.9091 2.70436 20.9466 2.73013 20.9748 2.76505C21.0029 2.79998 21.0204 2.84253 21.0251 2.88748L21.404 2.99979C21.4304 2.96387 21.4671 2.93716 21.5091 2.92333C21.551 2.90951 21.5961 2.90924 21.6382 2.92258C21.681 2.93518 21.719 2.96071 21.7473 2.9958C21.7756 3.03089 21.7928 3.07389 21.7966 3.11913L22.9606 3.46311V2.86642C22.6471 2.73621 22.3877 2.49902 22.2268 2.19543C22.066 1.89183 22.0136 1.54069 22.0787 1.20209C22.1438 0.863481 22.3223 0.558448 22.5837 0.339171C22.8451 0.119894 23.1731 0 23.5117 0C23.8502 0 24.1783 0.119894 24.4397 0.339171C24.7011 0.558448 24.8796 0.863481 24.9447 1.20209C25.0098 1.54069 24.9574 1.89183 24.7965 2.19543C24.6356 2.49902 24.3762 2.73621 24.0627 2.86642V3.46311L25.2268 3.11913C25.2306 3.07389 25.2478 3.03089 25.2761 2.9958C25.3043 2.96071 25.3424 2.93518 25.3852 2.92258C25.4273 2.90924 25.4724 2.90951 25.5143 2.92333C25.5562 2.93716 25.5929 2.96387 25.6194 2.99979L25.9982 2.88748C26.0029 2.84253 26.0205 2.79998 26.0486 2.76505C26.0768 2.73013 26.1143 2.70436 26.1567 2.69092C26.1998 2.67803 26.2458 2.67849 26.2887 2.69224C26.3316 2.70598 26.3696 2.7324 26.3977 2.76814L26.6939 2.62774C26.7192 2.62025 26.7458 2.61794 26.772 2.62095C26.7982 2.62397 26.8235 2.63224 26.8466 2.64529C26.8696 2.65834 26.8899 2.67592 26.9063 2.697C26.9226 2.71809 26.9347 2.74226 26.9419 2.76814L27.1003 3.34377C27.1077 3.36958 27.1099 3.39662 27.107 3.42333C27.104 3.45004 27.0959 3.47588 27.0831 3.49938C27.0703 3.52287 27.053 3.54355 27.0323 3.56022C27.0117 3.57688 26.9879 3.58921 26.9625 3.59649L26.6457 3.69477C26.6419 3.74001 26.6247 3.78301 26.5964 3.8181C26.5681 3.85319 26.5301 3.87872 26.4873 3.89132C26.4441 3.90421 26.3981 3.90375 26.3552 3.89C26.3123 3.87626 26.2744 3.84984 26.2462 3.8141L25.8742 3.92642C25.8674 3.97162 25.8483 4.01396 25.8191 4.04869C25.7898 4.08342 25.7517 4.10915 25.7089 4.12298C25.6669 4.13631 25.6218 4.13605 25.5798 4.12222C25.5379 4.1084 25.5012 4.08169 25.4747 4.04576L24.0421 4.47398L24.0429 4.5346C24.0704 6.52893 24.1118 9.52497 24.2005 9.88633C24.2281 10.0407 24.2863 10.1878 24.3715 10.3186C24.4566 10.4494 24.5669 10.5612 24.6958 10.6472C24.8246 10.7332 24.9693 10.7916 25.1209 10.8189C25.2726 10.8462 25.4281 10.8418 25.5781 10.8059C26.3539 10.4871 27.0572 10.0092 27.6444 9.40196C28.2575 8.8895 27.9062 8.8895 27.9062 8.8895C27.3657 9.02662 26.7939 8.94085 26.3151 8.65082C27.0342 8.41461 27.7111 8.0614 28.3195 7.60486ZM22.7088 1.11528C22.6659 1.22089 22.6438 1.33408 22.6438 1.44839C22.6414 1.5843 22.6707 1.71886 22.7294 1.84092C22.7881 1.96299 22.8744 2.06907 22.9813 2.15038C22.9951 1.70813 23.0777 1.44839 23.5117 1.44839C23.9456 1.44839 24.0421 1.74323 24.0421 2.15038C24.1439 2.06614 24.225 1.95878 24.2788 1.83688C24.3326 1.71498 24.3577 1.58194 24.352 1.44839C24.352 1.33408 24.3299 1.22089 24.287 1.11528C24.2441 1.00967 24.1812 0.913708 24.1019 0.832878C24.0225 0.752047 23.9284 0.687929 23.8248 0.644184C23.7211 0.600439 23.6101 0.577923 23.4979 0.577923C23.3857 0.577923 23.2747 0.600439 23.1711 0.644184C23.0674 0.687929 22.9733 0.752047 22.894 0.832878C22.8147 0.913708 22.7517 1.00967 22.7088 1.11528Z",fill:t.palette.primary.main})})},align:"center"},{id:"supplyCenterNo",label:"Centers",icon:function(){var t=Object(b.a)();return Object(E.jsxs)("svg",{width:"18",height:"16",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(E.jsx)("path",{d:"M9.00005 17C13.4183 17 17.0001 13.4183 17.0001 9C17.0001 4.58172 13.4183 1 9.00005 1C4.58174 1 1 4.58172 1 9C1 13.4183 4.58174 17 9.00005 17Z",stroke:"black"}),Object(E.jsx)("path",{d:"M9.00324 13.3635C11.4132 13.3635 13.3668 11.4098 13.3668 8.99987C13.3668 6.5899 11.4132 4.63623 9.00324 4.63623C6.5933 4.63623 4.63965 6.5899 4.63965 8.99987C4.63965 11.4098 6.5933 13.3635 9.00324 13.3635Z",fill:t.palette.primary.main})]})},align:"center"},{id:"bet",label:"Bet",icon:function(){var t=Object(b.a)();return Object(E.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(E.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16ZM4.79785 11.8914V4H8.17207C10.5674 4 11.9729 5.36172 11.9729 7.88828C11.9729 10.4148 10.5619 11.8914 8.17207 11.8914H4.79785ZM7.84394 5.84297H7.1166V10.0484H7.84394C9.00332 10.0484 9.61035 9.34297 9.61035 7.88828C9.61035 6.55938 8.9541 5.84297 7.84394 5.84297Z",fill:t.palette.primary.main})})},align:"center"},{id:"excusedMissedTurns",label:"Delays",icon:function(){var t=Object(b.a)();return Object(E.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(E.jsx)("circle",{cx:"8",cy:"8",r:"7",stroke:t.palette.primary.main,strokeWidth:"2"}),Object(E.jsx)("path",{d:"M8 3.5L8 8.5L11 10.5",stroke:t.palette.primary.main,strokeWidth:"2"})]})},align:"center"}],W=function(t){var e=t.countries,r=t.maxDelays,a=Object(b.a)(),i=Object(k.a)(),o=Object(m.a)(i,1)[0],s=Object(M.a)(o),c=s===B.a.MOBILE_LANDSCAPE||s===B.a.MOBILE_LG_LANDSCAPE||s===B.a.MOBILE||s===B.a.MOBILE_LG,u=Object(V.a)(R.a)((function(){var t,e=c?6:"6px 16px";return t={},Object(f.a)(t,"&.".concat(H.a.head),{borderBottom:0,lineHeight:"normal",padding:e}),Object(f.a)(t,"&.".concat(H.a.body),{borderBottom:0,padding:e}),t}));return Object(E.jsx)("div",{children:Object(E.jsxs)(I.a,{"aria-label":"country info table",size:"small",stickyHeader:!0,children:[Object(E.jsx)(g.a,{sx:{height:"55px"},children:Object(E.jsx)(x.a,{sx:{verticalAlign:"top"},children:Y.map((function(t){return Object(E.jsxs)(u,{align:t.align,children:[t.icon&&Object(E.jsx)(t.icon,{}),Object(E.jsx)(h.a,{sx:{fontSize:10,fontWeight:400},children:t.label.toUpperCase()})]},t.id)}))})}),Object(E.jsx)(D.a,{children:e.map((function(t){return Object(E.jsxs)(n.Fragment,{children:[Object(E.jsx)(x.a,{children:Y.map((function(e){var n,i={color:a.palette.primary.main,fontWeight:400};switch(e.id){case"power":n=c?t.abbr.toUpperCase():t.power.toUpperCase(),i.color=t.color,i.fontWeight=700;break;case"excusedMissedTurns":n="".concat(t[e.id],"/").concat(r);break;default:n="".concat(t[e.id])}return Object(E.jsx)(u,{align:e.align,children:Object(E.jsx)("span",{style:i,children:n})},e.id)}))}),t.votes&&Object(E.jsx)(x.a,{children:Object(E.jsxs)(u,{sx:{fontSize:"70%",paddingTop:"0px !important",fontWeight:700},colSpan:Y.length,children:[Object.values(t.votes).reduce((function(t,e){return t+ +e}),0)>0&&Object(E.jsx)(h.a,{sx:{color:a.palette.action.disabledBackground,display:"inline-block",marginRight:1.5},children:"VOTED"}),Object.entries(t.votes).map((function(e){return e[1]&&Object(E.jsx)(F.a,{size:"small",label:e[0].toUpperCase(),sx:{color:a.palette.secondary.main,background:t.color,fontWeight:900,fontSize:"90%",height:14,marginRight:1}},"".concat(t.power,"-vote-").concat(e[0]))}))]})})]},t.power)}))})]})})},z=r(207),K=r(222),Z=function(t){var e=t.children,r=t.color,a=t.disabled,n=t.onClick,i=t.startIcon,o=t.sx;return Object(E.jsx)(K.a,{sx:o,color:r,disabled:a,onClick:n,startIcon:i,variant:"contained",children:e})};Z.defaultProps={color:"primary",disabled:!1,onClick:void 0,startIcon:void 0,sx:void 0};var X,Q=Z,q=function(){return Object(E.jsx)("svg",{width:12,height:11,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(E.jsx)("path",{d:"m2 6.164 2.5 2.5 5.5-7.5",stroke:"#000",strokeWidth:"3"})})},J={draw:"Draw",pause:"Pause",cancel:"Cancel"},$=function(t){var e=t.voteState,r=t.toggleVote,a=Object(k.a)(),n=Object(m.a)(a,1)[0],i=Object(M.a)(n),o=i===B.a.MOBILE_LANDSCAPE||i===B.a.MOBILE_LG_LANDSCAPE||i===B.a.MOBILE,s=o?"10px 10px":"10px 18px",c=o?1:2,u=Object.entries(e).map((function(t){var e=Object(m.a)(t,2),a=e[0],n=e[1];return Object(E.jsx)(Q,{sx:{p:s},color:n?"secondary":"primary",onClick:function(){return r(G[a])},startIcon:n?Object(E.jsx)(q,{}):"",children:J[a]},a)}));return Object(E.jsx)(z.a,{direction:"row",spacing:c,alignItems:"center",children:u})},tt=function(t){var e=t.countries,r=t.maxDelays,a=t.userCountry,i=n.useState(a.votes),o=Object(m.a)(i,2),s=o[0],c=o[1],u=Object(k.a)(),l=Object(m.a)(u,1)[0],d=Object(M.a)(l);n.useEffect((function(){c(a.votes)}),[a]);var p=d===B.a.MOBILE_LANDSCAPE||d===B.a.MOBILE_LG_LANDSCAPE||d===B.a.MOBILE?"0 6px":"0 16px";return Object(E.jsxs)(h.a,{children:[Object(E.jsx)(h.a,{sx:{p:p},children:Object(E.jsx)($,{toggleVote:function(t){var e=G[t],r=Object(A.a)(Object(A.a)({},s),{},Object(f.a)({},e,!s[e]));c(r)},voteState:s})}),Object(E.jsx)(h.a,{sx:{m:"20px 5px 10px 0"},children:Object(E.jsx)(W,{maxDelays:r,countries:[Object(A.a)(Object(A.a)({},a),{},{votes:s})].concat(Object(_.a)(e))})})]})},et=function(t){var e=t.children,r=Object(k.a)(),a=Object(m.a)(r,1)[0],n=Object(M.a)(a),i=n===B.a.MOBILE_LANDSCAPE||n===B.a.MOBILE_LG_LANDSCAPE||n===B.a.MOBILE,o=i?"0 6px":"0 16px",s=i?272:358;return Object(E.jsx)(h.a,{sx:{m:"20px 0 10px 0",p:o,width:s},children:e})};!function(t){t.PRESS="PRESS",t.ORDERS="ORDERS",t.INFO="INFO"}(X||(X={}));var rt=X,at={borderRadius:0,fontWeight:400,minWidth:0,p:"0 0 5px 0","&:hover":{background:"transparent"}},nt={borderRadius:0,borderBottom:"solid black 2px",fontWeight:600,minWidth:0,p:"0 0 5px 0","&:hover":{background:"transparent"}},it=function(t){var e=t.currentTab,r=t.currentView,a=t.onChange;return Object(E.jsx)(K.a,{onClick:function(){return a(e)},sx:r===e?nt:at,children:e})},ot=function(t){var e=t.currentView,r=t.onChange,a=t.padding,n=t.tabGroup.map((function(t){return Object(E.jsx)(it,{currentTab:t,currentView:e,onChange:r},t)}));return Object(E.jsx)(z.a,{alignItems:"center",direction:"row",spacing:2,sx:{p:a},children:n})},st=function(t){var e=t.children,r=t.currentView,a=t.onChange,n=t.padding,i=t.tabGroup;return Object(E.jsxs)(h.a,{children:[Object(E.jsx)(ot,{currentView:r,onChange:a,padding:n,tabGroup:i}),e]})},ct=function(t){var e=t.currentTab,r=t.currentView,a=t.children;return Object(E.jsx)(h.a,{hidden:r!==e,id:e,"aria-labelledby":e,children:r===e&&Object(E.jsx)(h.a,{children:a})})},ut=[rt.PRESS,rt.INFO],lt=function(t){var e=t.alternatives,r=t.children,a=t.countries,i=t.excusedMissedTurns,o=t.phase,s=t.potNumber,c=t.season,u=t.title,l=t.userCountry,d=t.year,p=Object(n.useState)(rt.PRESS),v=Object(m.a)(p,2),f=v[0],A=v[1],b=Object(k.a)(),y=Object(m.a)(b,1)[0],O=Object(M.a)(y),N=O===B.a.MOBILE_LANDSCAPE||O===B.a.MOBILE_LG_LANDSCAPE||O===B.a.MOBILE?"0 6px":"0 16px";return Object(E.jsxs)(st,{tabGroup:ut,currentView:f,onChange:function(t){return A(t)},padding:N,children:[Object(E.jsx)(ct,{currentTab:rt.INFO,currentView:f,children:Object(E.jsxs)(h.a,{children:[Object(E.jsx)(h.a,{sx:{m:"20px 0 10px 0",p:N},children:Object(E.jsx)(U,{alternatives:e,phase:o,potNumber:s,season:c,title:u,year:d})}),Object(E.jsx)(tt,{countries:a,maxDelays:i,userCountry:l})]})}),Object(E.jsx)(ct,{currentTab:rt.PRESS,currentView:f,children:Object(E.jsx)(et,{children:r})})]})},dt=r(209),ht=r(223),pt=function(t){var e,r=t.children,a=t.isOpen,n=t.onClose,i=t.anchorEl,o=Object(b.a)(),s=Object(k.a)(),c=Object(m.a)(s,1)[0];switch(Object(M.a)(c)){case B.a.MOBILE:case B.a.MOBILE_LG:case B.a.MOBILE_LANDSCAPE:case B.a.MOBILE_LG_LANDSCAPE:e=!0;break;default:e=!1}return Object(E.jsx)(h.a,{children:Object(E.jsx)(dt.a,{anchorEl:i,anchorOrigin:{horizontal:"left",vertical:"center"},onClose:n,open:a,sx:{pointerEvents:"none"},PaperProps:{sx:{backgroundColor:"transparent",boxShadow:"none",maxHeight:"unset",pointerEvents:"all",filter:o.palette.svg.filters.dropShadows[0]}},transformOrigin:{horizontal:"right",vertical:"center"},children:Object(E.jsxs)(h.a,{sx:{position:"relative",width:e?276:400},children:[Object(E.jsx)(h.a,{sx:{mt:"0px",position:"relative","&::before":{background:o.palette.secondary.main,content:'""',height:22,position:"absolute",left:"calc(90% - 11px)",top:Object(ht.a)(o.breakpoints.up("tablet"))?76:68,transform:"rotateX(45deg) rotateZ(45deg)",width:22}}}),Object(E.jsx)(h.a,{sx:{background:o.palette.secondary.main,borderRadius:3,maxWidth:"90%",minHeight:264,maxHeight:c.height-32,overflowX:"hidden",overflowY:"scroll",m:0,p:"16px 0"},children:r})]})})})};pt.defaultProps={onClose:void 0};var vt,ft=pt,At=r(32),mt=function(t){var e=t.iconState,r=void 0===e?At.a.INACTIVE:e,a=Object(b.a)();return Object(E.jsxs)("svg",{filter:a.palette.svg.filters.dropShadows[0],height:42,width:42,viewBox:"6 3 42 42",children:[r===At.a.ACTIVE&&Object(E.jsx)("circle",{cx:27,cy:24,r:20,fill:"#000"}),Object(E.jsx)("g",{fill:"#fff",children:Object(E.jsx)("path",{d:"M37.12 20.147h-4.293c-.88 0-1.651.77-1.651 1.651v4.294c0 .88.77 1.651 1.651 1.651h4.294c.88 0 1.651-.77 1.651-1.651v-4.294c0-.88-.77-1.651-1.651-1.651Zm-.22 4.073-1.21 1.211c-.11.11-.11.11-.22.11s-.22 0-.22-.11a.335.335 0 0 1 0-.44l.66-.66h-2.642c-.22 0-.33-.11-.33-.331 0-.22.11-.33.33-.33H35.8l-.55-.66a.335.335 0 0 1 0-.441c.11-.11.33-.11.44 0l1.21 1.21c.11.11.11.221 0 .441ZM20.718 20.147h-4.183c-.881 0-1.652.77-1.652 1.651v4.294c0 .88.77 1.651 1.652 1.651h4.293c.88 0 1.652-.77 1.652-1.651v-4.294c-.11-.88-.771-1.651-1.762-1.651Zm-.33 4.073h-2.642l.66.66c.11.11.11.331 0 .441-.11.11-.11.11-.22.11s-.22 0-.22-.11l-1.211-1.21a.335.335 0 0 1 0-.441l1.21-1.211c.11-.11.331-.11.441 0 .11.11.11.33 0 .44l-.66.66h2.642c.22 0 .33.11.33.33 0 .221-.22.331-.33.331ZM28.975 28.404h-4.293c-.88 0-1.651.77-1.651 1.651v4.294c0 .88.77 1.651 1.65 1.651h4.294c.881 0 1.652-.77 1.652-1.651v-4.294c0-.99-.77-1.651-1.652-1.651Zm-.66 4.403-1.211 1.211c-.11.11-.33.11-.44 0l-1.212-1.21c-.11-.11-.11-.11-.11-.22 0-.111 0-.221.11-.221.11-.11.33-.11.44 0l.661.66v-2.642c0-.22.11-.33.33-.33.22 0 .331.11.331.33v2.532l.66-.66c.11-.11.33-.11.44 0 .111.22.111.44 0 .55ZM28.975 12h-4.293c-.88 0-1.651.77-1.651 1.651v4.294c0 .88.77 1.651 1.65 1.651h4.294c.881 0 1.652-.77 1.652-1.651V13.65c0-.88-.77-1.651-1.652-1.651Zm-.66 3.523c-.11.11-.33.11-.44 0l-.661-.66v2.532c0 .22-.11.33-.33.33-.22 0-.33-.11-.33-.33v-2.533l-.661.66c-.11.111-.33.111-.44 0a.335.335 0 0 1 0-.44l1.21-1.21c.11-.11.33-.11.44 0l1.212 1.21c.11.11.11.11.11.22s-.11.22-.11.22Z"})})]})};!function(t){t.AUTUMN="Autumn",t.SPRING="Spring",t.WINTER="Winter"}(vt||(vt={}));var bt=vt,yt=r(214);function Ot(t){var e={d:0,h:0,m:0,s:0};return t>0&&(e={d:Math.floor(t/86400),h:Math.floor(t/3600%24),m:Math.floor(t/60%60),s:Math.floor(t%60)}),e}var Nt,Et=1e3,jt=function(t){var e=t.endTime,r=t.phaseTime,a=Object(b.a)(),i=e*Et-r*Et/4,o=e-+new Date/Et,s=Object(n.useState)(Ot(o)),c=Object(m.a)(s,2),u=c[0],l=c[1];Object(n.useEffect)((function(){var t=setTimeout((function(){l(Ot(o))}),1e3);return function(){return clearTimeout(t)}}),[o]);var d=function(t){var e=Object.keys(t).filter((function(e){return t[e]}));return e.length>1?"".concat(t[e[0]]).concat(e[0]," ").concat(t[e[1]]).concat(e[1]):0===e.length?"Time Up":"".concat(t[e[0]]).concat(e[0])}(u),h=+new Date>i;return Object(E.jsx)(F.a,{avatar:Object(E.jsx)(yt.a,{children:Object(E.jsx)("img",{src:h?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAABnlBMVEUAAAD/q6j/nJn/xsT/c23/xsX/npr/5uX/lpL/aWL/2tn/8fD/npv/m5j/cWv/7ez/xsT/mpf/c23/7+//6en/3Nv/1tX/r63/tLL/jIj/hID/cGn/dG7/9fX/z87/wL7/vLr/pqP/fHf/+vr/8vL/1NP/rar/zMr/g37/eXP/3dz/YVn/t7X/oqD/jYn/+Pj/qqj/ZFz/t7X/gn3/j4v/5OP/b2j/6+r/xMP/9vb/4N//uLf/qKX/kIz/0tH/////xsT/srD/e3b/2dj/jIj/vLr/j4v/f3r/eHL/+vr/9vb/5uX/4uH/3Nv/1NP/op//lpP/iYX/hoL/cWv/ysn/vrz/ubf/tbP/ko7/gn3/dW//7Oz/zcz/wL7/rKn/qKb/7u7/6ur/4N//3dz/0c//z87/t7X/n5z/nZr/mZX/hH//bmf/a2T/Zl//ZF3/6Of/1tX/zMr/wsH/r63/rqv/p6T/lJD/bWX/aGH/8/P/5OP/09L/yMb/pKH/m5j/cGn/Ylr/+Pf/8PD/qqj/paL/mpb/397/3t3/wsD/oZ5mKiOUAAAAP3RSTlMA/v5gX+7u397ej19fUEAgICAg7+/v7+/u7u7u7d/f3t7e3c/Pz8/Ozs6/v76+vpCQkI+PjmBQT09AQEBAQD8x8KLFAAABAWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iPz48cjpSREYgeG1sbnM6cj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+PHI6RGVzY3JpcHRpb24geG1sbnM6eD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+PHg6Q3JlYXRlRGF0ZT4yMDIyLTAyLTA4VDE2OjAwOjU5LTAwOjAwPC94OkNyZWF0ZURhdGU+PC9yOkRlc2NyaXB0aW9uPjwvcjpSREY+PD94cGFja2V0IGVuZD0iciI/PsAzAGQAAAHNSURBVCjPXc1nY9JgFIbhA6XV1lr33nvvPQMtIKTURJlCIaQDiMQSKIFipSqCrf/a52R03R9z5TkvbfbqwRVBEMQ7jyZod/vOidGogH4tLY36dtCBqx1R/O3gtxV99PC22ZFep7OFul4989y1F7lcsbeJGLarP+M+5+ZRNVcsioJgIa6yZc/al/fUVEwZLFzRYfFs5Bbbs+npmqrmXMQQu2wkMunj4XdoTRVdbFdtm7xM9DoWizG7Ux0GQh8maGxuzmbn1TaMBT2h2+vrf+HgqIVxEOALuknH5jl21cIICPAVnaapqRmneeswPn92AzoZhoHDvWAw+MmNjhvGR251YbE+I0YbciYcDgetTtE1WxYWZxP+ZKkgeTU5A+cf7tPYKgvoh38jlG6akncgt1qZMH54Su9ZZuuJhL+RTKWbSrdcGWjMmcw7ovOgOnb+fCiVXvaYUrmypsmy3NpLREOYwRr5ZKgUWC4oXansXdPA44Ru8IwxxfjHlP5hO9AwRAeHYRsYptKMSt/SkUMgPowdjDHQ9Ch9HK5U9pPTy+E8D0uMBcXsS9KIa3z5AoY24q7ZvYeb2xq6aCEe9SiXxml3bx7fPRkInLj+8C25/Qfm+Mpp+q+KIQAAAABJRU5ErkJggg==":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAACKFBMVEUAAADX19eRkZFSUlKGhoZ9fX1AQEBmZmYZGRm0tLTs7Ow1NTVxcXGQkJBRUVHm5uavr69zc3MlJSXFxcW6urpmZmaenp5nZ2dSUlLp6enj4+POzs7Hx8eOjo6ysrKrq6uWlpZ2dnZvb29WVlZMTEwlJSUvLy/x8fHe3t7Y2Ni8vLyoqKihoaGCgoI+Pj75+fnt7e3FxcWKioq2trZJSUk0NDTR0dEFBQWZmZl7e3taWlr29vaIiIgLCwvT09PBwcGamppHR0dbW1vb29ujo6N+fn5mZmYYGBgnJyfl5eWurq7y8vLV1dUNDQ2/v7/////9/f2vr68oKCienp7Kysp5eXlycnLg4OC2trahoaFaWloxMTH5+fn09PTy8vLo6Ojb29vPz8/Nzc2oqKiQkJCNjY2EhISBgYF9fX12dnZsbGxgYGBXV1c4ODghISHHx8fFxcW/v7+9vb2qqqqlpaWZmZmKioppaWlUVFRNTU1LS0s1NTUaGhoTExMODg7l5eXk5OTd3d3Z2dnX19fS0tLMzMzCwsK8vLy5ubm4uLizs7OsrKympqabm5uXl5eWlpaTk5OJiYlnZ2dkZGRcXFxPT09HR0dFRUVBQUE/Pz86OjotLS0dHR0XFxcKCgr29vbu7u7s7OzU1NSPj4+GhoZwcHBubm5jY2NISEgkJCTq6uri4uLV1dXR0dHExMTBwcGysrJ/f39eXl5EREQ8PDwrKysFBQVvb2/Jo8KvAAAAT3RSTlMA/v7+/v7+3t5gX19QQEAgICAg/v7+/f397+/v7+/u7u7u7u7u7u3f39/f3t7e3c/Pz8/Ozs6/v76+vpCQkI+Pj4+OYGBfX19QT09AQEA/DLic8gAAAQFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/Ij8+PHI6UkRGIHhtbG5zOnI9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPjxyOkRlc2NyaXB0aW9uIHhtbG5zOng9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iPjx4OkNyZWF0ZURhdGU+MjAyMi0wMi0wOFQxNjowMDo1OS0wMDowMDwveDpDcmVhdGVEYXRlPjwvcjpEZXNjcmlwdGlvbj48L3I6UkRGPjw/eHBhY2tldCBlbmQ9InIiPz7AMwBkAAACK0lEQVQoz13Q51tSYRgG8BdJs6Htvffee+894EAMQZbsw94xRTDKFBAQBQLJMBUty9L693rec45e5n2dT8/vve8PBy3kxY0zHA5HfuXWK7Q0K4/Iqu2A3D/DkeYn/9Gas5/lMhmD4Uqoef2i2rbJEVAKhyPhUNl66Om8PetUKDBWaayErHXe3Cpmc3sUVM7lUs1IuFK28nifDtPLR0VToFwACmmTSi9he6DsEominVgwhkOUBYMWPHwshnVKPo/lOjZLqXQaoZeseAxzlEtjqM4DspSKxaZWdPvLN1Y8rlR2KWi0zkmDpdliofB76B66/L27G3tMWaWQJ7XMNoEMDQ5eRDtUEPyAJaLQUizAfWIiEAgcRO8gHTgq1SRGuPr9/jx8+Tx6w8Rms9vgL4xIzOa3OGw2eyvaCVe7fXo64XD2dMjaXb5x04BEIjFDDqBz9g2JxA+H8/0HMdHn8RqEZDZn+jWAH1xHd0CANoo/Euq2lFYvEI75srlxEzy4j147nNDqAXO5+WmtrhGU9G3C3IrQcUzin0RvXxs/XVumNxiFf0lfNptbjhBagWtgajc/ma5ldAaBUfiVJH1bHiPIBZgkel1Q9PTXvFDFOkZCEbJ2N0EQLrUbo8Y7qpsRYN2/DggPQ08NxWSqX6PN6HDVKFyNmDzfo4Yig6P6GYNgH2308gkwvifVoNHCrr7xGmwuysOTm5OeNMaM7tQjtDQtd6/ubdDsOn+zZeH0DxbGA1vYikZnAAAAAElFTkSuQmCC",alt:"Countdown icon"})}),sx:{backgroundColor:h?a.palette.error.main:a.palette.primary.main,color:a.palette.secondary.main,filter:a.palette.svg.filters.dropShadows[0]},label:d})},St=r(224);!function(t){t.BACKWARD="left",t.FORWARD="right",t.DISABLED="disabled"}(Nt||(Nt={}));var Tt=Nt,Ct=function(t){var e=t.disabled,r=t.direction;return Object(E.jsxs)("svg",{fill:"none",height:"15",width:"8",xmlns:"http://www.w3.org/2000/svg",children:[r===Tt.BACKWARD&&Object(E.jsx)("path",{d:"M0 7.5 8 0v15z",fill:"#000",opacity:e?"40%":""}),r===Tt.FORWARD&&Object(E.jsx)("path",{d:"m0 0 8 7.5L0 15z",fill:"#000",opacity:e?"40%":""})]})};Ct.defaultProps={disabled:!1};var Lt=Ct,It=function(t){var e=t.className,r=t.direction,a=t.disabled,n=t.onClick;return Object(E.jsx)(K.a,{sx:{backgroundColor:"secondary.main",boxShadow:"none",borderRadius:"22px",padding:"13px 19px 12px 13px","&:hover, &:focus, &:disabled":{backgroundColor:"#fff",boxShadow:"none"}},className:e,disabled:a,disableRipple:!0,onClick:n,variant:"contained",children:Object(E.jsx)(Lt,{direction:r,disabled:a})})};It.defaultProps={disabled:!1,onClick:void 0};var gt=It,xt=function(t){var e=t.disabled,r=t.onChangeSeason,a=t.season,n=t.year,i=Object(b.a)();return Object(E.jsx)(h.a,{sx:{alignItems:"flex-start",display:"flex",backgroundColor:"white",borderRadius:"22px",filter:i.palette.svg.filters.dropShadows[0]},children:Object(E.jsxs)(St.a,{children:[Object(E.jsx)(gt,{className:"WDScroll--Backward",direction:Tt.BACKWARD,disabled:e===Tt.BACKWARD,onClick:r}),Object(E.jsx)(h.a,{sx:{alignItems:"center",bgcolor:"secondary.main",display:"flex",fontWeight:"bold",fontSize:12,textTransform:"uppercase"},children:"".concat(a," ").concat(n)}),Object(E.jsx)(gt,{className:"WDScroll--Forward",direction:Tt.FORWARD,disabled:e===Tt.FORWARD,onClick:r})]})})};xt.defaultProps={disabled:void 0,onChangeSeason:void 0};var Rt=xt,Dt=function(t){var e=t.disabled,r=t.icon,a=t.onClick,n=t.year,i=Object(b.a)().palette.svg.filters.dropShadows[0];return Object(E.jsxs)(K.a,{disabled:e,onClick:a,sx:{position:"relative",fontSize:12,padding:0,minHeight:64,minWidth:64,borderRadius:"50%"},children:[r===At.a.ACTIVE&&Object(E.jsxs)("svg",{fill:"none",filter:i,height:50,width:50,children:[Object(E.jsx)("circle",{cx:25,cy:25,r:22,fill:"#000"}),Object(E.jsx)("path",{d:"m28 17-9 8 9 8",stroke:"#fff",strokeWidth:3})]}),r===bt.AUTUMN&&Object(E.jsx)("svg",{fill:"none",filter:i,height:31,width:27,children:Object(E.jsx)("path",{d:"M19.31 21.29c.12-.62 3.78-3.38 6.94-5.83l-1.18-.38a.85.85 0 0 1-.56-1l1.16-4.18-3.18.87a1 1 0 0 1-1.26-.84l-.15-1.27-3.27 3.15a.38.38 0 0 1-.64-.35l1.31-7-1.84 1a.59.59 0 0 1-.81-.25L13.14 0l-2.68 5.21a.6.6 0 0 1-.82.25l-1.84-1 1.31 7a.38.38 0 0 1-.64.35L5.21 8.66 5.06 9.9a1 1 0 0 1-1.27.84L.58 9.87l1.16 4.18a.85.85 0 0 1-.56 1L0 15.43c3.16 2.45 6.82 5.21 6.94 5.83s-1 2.35-1 2.35a38.53 38.53 0 0 1 5.38-1.41c.94 0 1.17.85 1.17 1.7s-.55 6.45-.27 6.65a2.65 2.65 0 0 0 1.78 0c.22-.2-.27-5.8-.27-6.65s.23-1.68 1.17-1.7c1.825.34 3.623.811 5.38 1.41 0 0-1.11-1.59-.97-2.32z",fill:"#fff"})}),r===bt.SPRING&&Object(E.jsxs)("svg",{fill:"none",filter:i,height:32,width:25,children:[Object(E.jsx)("g",{fill:"#fff",children:Object(E.jsx)("path",{d:"m18.87.574-3.42 3.281L12.038 0l-3.42 3.855L5.198.574S-2.82 14.489 11.981 17h.103C26.867 14.49 18.87.574 18.87.574zM24.016 19.526c.3-.987-4.167-.329-4.75-.078-1.249.528-3.585 1.731-4.055 4.561s.154 3.376-.077 3.68c-.231.302 2.832.44 3.961.155a5.78 5.78 0 0 0 2.266-1.07 5.859 5.859 0 0 0 1.61-1.934c1.301-2.155.762-4.38 1.045-5.314zM.044 19.526c-.3-.987 4.168-.329 4.75-.078 1.249.528 3.585 1.731 4.055 4.561s-.154 3.376.077 3.68c.231.302-2.832.44-3.961.155a5.781 5.781 0 0 1-2.266-1.07 5.86 5.86 0 0 1-1.61-1.934C-.17 22.685.326 20.46.043 19.526z"})}),Object(E.jsx)("path",{d:"M12.125 9.187V31",stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})]}),r===bt.WINTER&&Object(E.jsx)("svg",{fill:"none",filter:i,height:35,width:31,children:Object(E.jsx)("path",{clipRule:"evenodd",d:"m29.54 25.188.49.53a.178.178 0 0 1-.047.155.179.179 0 0 1-.153.055l-.7-.16c-1.36-.3-2.666-.81-3.87-1.51l-.19-.1-.1 2a.52.52 0 0 1-.22.39l-.19.13a.3.3 0 0 1-.36 0l-.15-.13a.49.49 0 0 1-.19-.42l.14-2.54-.88-.51-.2 3.56a.53.53 0 0 1-.21.39l-.23.16a.29.29 0 0 1-.36 0l-.21-.18a.52.52 0 0 1-.18-.41l.23-4.17-.84-.49-.17 3.07a.479.479 0 0 1-.21.39l-.23.16a.29.29 0 0 1-.36 0l-.22-.19a.54.54 0 0 1-.17-.4l.1-3.16.18-.47-.94-.54-1 1.77h-2v1.08l.5.08 2.79 1.49a.538.538 0 0 1 .26.35v.28a.3.3 0 0 1-.16.33l-.25.11a.51.51 0 0 1-.45 0l-2.76-1.43v1l3.78 1.91a.5.5 0 0 1 .27.35v.27a.3.3 0 0 1-.16.33l-.25.11a.51.51 0 0 1-.45 0l-3.19-1.62v1l2.3 1.14a.51.51 0 0 1 .28.37v.21a.3.3 0 0 1-.17.31l-.21.1a.521.521 0 0 1-.44 0l-1.76-.89v.21a13.93 13.93 0 0 1-.59 4.11l-.22.68a.18.18 0 0 1-.175.138.18.18 0 0 1-.175-.138l-.21-.68a13.62 13.62 0 0 1-.63-4.11v-.21l-1.72.88a.521.521 0 0 1-.44 0l-.22-.1a.29.29 0 0 1-.16-.31v-.21a.521.521 0 0 1 .27-.37l2.27-1.15v-1l-3.18 1.65a.51.51 0 0 1-.45 0l-.25-.11a.32.32 0 0 1-.17-.33l.06-.27a.5.5 0 0 1 .27-.35l3.72-1.89v-1l-2.8 1.39a.51.51 0 0 1-.45 0l-.25-.11a.32.32 0 0 1-.17-.33l.06-.28a.542.542 0 0 1 .26-.35l2.78-1.49.5-.08v-1.07h-2l-1-1.75-.93.53.21.61.1 3.16a.499.499 0 0 1-.18.39l-.21.19a.29.29 0 0 1-.36 0l-.23-.16a.51.51 0 0 1-.22-.39l-.16-3.06-.84.48.22 4.17a.49.49 0 0 1-.17.41l-.21.19a.29.29 0 0 1-.36 0l-.23-.16a.51.51 0 0 1-.21-.39l-.2-3.57-.88.51.14 2.54a.49.49 0 0 1-.19.42l-.16.13a.29.29 0 0 1-.35 0l-.19-.14a.51.51 0 0 1-.22-.39l-.1-2-.17.08a14 14 0 0 1-3.87 1.51l-.7.15a.18.18 0 0 1-.17-.3l.48-.53a13.777 13.777 0 0 1 3.25-2.59l.18-.11-1.71-1.07a.5.5 0 0 1-.22-.38v-.24a.3.3 0 0 1 .19-.3l.2-.07a.48.48 0 0 1 .45.05l2.08 1.44.89-.51-3-1.95a.5.5 0 0 1-.22-.38v-.28a.29.29 0 0 1 .2-.3l.26-.09a.519.519 0 0 1 .44.05l3.5 2.29.84-.49-2.57-1.68a.51.51 0 0 1-.23-.38v-.27a.3.3 0 0 1 .2-.31l.27-.09a.5.5 0 0 1 .43 0l2.7 1.71.31.4.93-.54-1-1.75 1-1.75-.94-.55-.32.4-2.69 1.66a.5.5 0 0 1-.43 0l-.27-.09a.3.3 0 0 1-.2-.31v-.27a.55.55 0 0 1 .23-.39l2.57-1.67-.84-.49-3.49 2.28a.521.521 0 0 1-.45.06l-.26-.09a.29.29 0 0 1-.2-.3v-.28a.48.48 0 0 1 .23-.38l3-1.95-.88-.51-2.08 1.44a.54.54 0 0 1-.45.05l-.2-.08a.28.28 0 0 1-.18-.3v-.23a.5.5 0 0 1 .23-.38l1.64-1.07-.18-.11a13.571 13.571 0 0 1-3.24-2.6l-.49-.52a.19.19 0 0 1 .17-.31l.7.16a13.73 13.73 0 0 1 3.87 1.51l.18.19.1-2a.51.51 0 0 1 .22-.39l.19-.14a.32.32 0 0 1 .36 0l.15.13a.51.51 0 0 1 .19.43l-.14 2.54.88.51.2-3.57a.53.53 0 0 1 .21-.39l.23-.16a.29.29 0 0 1 .36 0l.21.18a.55.55 0 0 1 .18.41l-.23 4.17.84.49.17-3.07a.45.45 0 0 1 .21-.38l.23-.16a.29.29 0 0 1 .36 0l.22.18a.539.539 0 0 1 .17.4l-.1 3.16-.18.47 1 .49 1-1.74h1.93v-1.11l-.5-.07-2.79-1.5a.52.52 0 0 1-.26-.35v-.28a.28.28 0 0 1 .16-.32l.25-.12a.51.51 0 0 1 .45 0l2.76 1.44v-1l-3.8-1.87a.54.54 0 0 1-.27-.36v-.27a.28.28 0 0 1 .16-.32l.25-.12a.51.51 0 0 1 .45 0l3.21 1.59v-1l-2.32-1.11a.51.51 0 0 1-.28-.37v-.2a.31.31 0 0 1 .17-.32l.21-.09a.49.49 0 0 1 .44 0l1.78.85v-.21c-.009-1.392.19-2.777.59-4.11l.22-.68a.18.18 0 0 1 .35 0l.21.68c.418 1.33.63 2.716.63 4.11v.21l1.76-.85a.49.49 0 0 1 .44 0l.18.07a.3.3 0 0 1 .16.32v.2a.519.519 0 0 1-.27.37l-2.27 1.15v1l3.19-1.62a.51.51 0 0 1 .45 0l.25.12a.3.3 0 0 1 .17.32l-.06.27a.54.54 0 0 1-.28.34l-3.72 1.88v1l2.74-1.42a.51.51 0 0 1 .45 0l.24.14a.3.3 0 0 1 .17.32l-.06.28a.52.52 0 0 1-.26.35l-2.78 1.5-.5.07v1.16h2l1 1.73 1-.55-.19-.55-.1-3.16a.52.52 0 0 1 .18-.4l.21-.19a.29.29 0 0 1 .36 0l.23.16a.51.51 0 0 1 .22.39l.16 3.06.84-.48-.22-4.17a.49.49 0 0 1 .17-.41l.21-.19a.3.3 0 0 1 .36 0l.23.15a.51.51 0 0 1 .21.39l.2 3.57.88-.51-.14-2.54a.49.49 0 0 1 .19-.42l.14-.22a.29.29 0 0 1 .35 0l.19.13a.509.509 0 0 1 .22.39l.1 2 .17-.06a13.43 13.43 0 0 1 3.87-1.51l.7-.16a.18.18 0 0 1 .17.3l-.48.53a14.08 14.08 0 0 1-3.25 2.6l-.18.1 1.76.92a.51.51 0 0 1 .22.39v.23a.3.3 0 0 1-.19.3l-.2.07a.48.48 0 0 1-.45 0l-2.13-1.39-.89.51 3 2a.51.51 0 0 1 .22.39v.27a.3.3 0 0 1-.2.31l-.26.08a.521.521 0 0 1-.44 0l-3.5-2.28-.84.48 2.57 1.68a.53.53 0 0 1 .23.38v.28a.29.29 0 0 1-.2.3l-.27.09a.5.5 0 0 1-.43-.05l-2.63-1.66-.31-.39-1 .55 1 1.76-1 1.73.94.54.32-.39 2.67-1.66a.5.5 0 0 1 .43-.05l.27.09a.29.29 0 0 1 .2.3v.28a.55.55 0 0 1-.23.38l-2.57 1.68.84.48 3.51-2.33a.52.52 0 0 1 .45-.06l.26.09a.3.3 0 0 1 .2.31v.27a.52.52 0 0 1-.23.39l-3 2 .88.51 2.04-1.44a.48.48 0 0 1 .45 0l.2.07a.28.28 0 0 1 .18.3v.23a.48.48 0 0 1-.23.38l-1.64 1.08.27.1c1.207.695 2.3 1.572 3.24 2.6zm-14.62-4.52 2.79-1.61v-3.23l-2.79-1.62-2.8 1.62v3.23zm.1-1.84-1.31-.76v-1.51l1.31-.76 1.31.76v1.51z",fill:"#fff",fillRule:"evenodd"})}),Object(E.jsx)(h.a,{sx:{position:"absolute",textAlign:"center",width:64,left:0,bottom:"-7px",color:"#fff",fontWeight:"bold",textTransform:"uppercase"},children:Object(E.jsx)("span",{style:{filter:i},children:n})})]})};Dt.defaultProps={onClick:void 0,disabled:!1};var Pt,Bt=Dt,Mt=function(){var t=Object(n.useState)(bt.SPRING),e=Object(m.a)(t,2),r=e[0],a=e[1],i=Object(n.useState)(1901),o=Object(m.a)(i,2),s=o[0],c=o[1],u=Object(n.useState)(null),l=Object(m.a)(u,2),d=l[0],f=l[1],A=Object(n.useState)(!0),b=Object(m.a)(A,2),y=b[0],O=b[1],N=Object(v.b)(p.h),j=N.phaseMinutes,S=N.processTime,T=N.season,C=N.year,L=60*j;return Object(n.useEffect)((function(){a(T),c(C),f(S)}),[S,T,C]),Object(E.jsxs)(h.a,{sx:{display:"flex",alignItems:"center",height:40,marginTop:"3px"},children:[Object(E.jsx)(Bt,{icon:y?r:At.a.ACTIVE,onClick:function(){O(!y)},year:s}),y&&d&&Object(E.jsx)(jt,{endTime:d,phaseTime:L}),!y&&Object(E.jsx)(Rt,{season:r,year:s})]})};function kt(t){return t.charAt(0).toUpperCase()+t.slice(1)}!function(t){t.SAVE="save",t.READY="ready"}(Pt||(Pt={}));var wt=Pt,Ut=function(t){var e,r=t.gameState,a=r.ready,n=r.save,i=t.readyDisabled,o=t.toggleState,s=Object(b.a)(),c=Object(k.a)(),u=Object(m.a)(c,1)[0],l=Object(v.b)(p.f).data,d=Object(v.b)(p.g),h=Object(v.a)();switch(Object(M.a)(u)){case B.a.MOBILE:case B.a.MOBILE_LG:case B.a.MOBILE_LANDSCAPE:case B.a.MOBILE_LG_LANDSCAPE:e=!0;break;default:e=!1}var f=function(t){if(h(p.e.processMapClick({name:void 0,clickObject:"save_button"})),"currentOrders"in l&&"contextVars"in l){var e=l.currentOrders,r=l.contextVars;if(r&&e){var n=[];e.forEach((function(t){var e=t.fromTerrID,r=t.id,a=t.toTerrID,i=t.type,o=t.unitID,s=t.viaConvoy,c=d[r].update,u={fromTerrID:e,id:r,toTerrID:a,type:i,unitID:o,viaConvoy:s};c&&(u=Object(A.a)(Object(A.a)({},u),c)),n.push(u)}));var i={orderUpdates:n,context:JSON.stringify(r.context),contextKey:r.contextKey,queryParams:{}};t===wt.READY&&(i.queryParams=a?{notready:"on"}:{ready:"on"}),h(Object(p.i)(i))}}t===wt.READY&&o(t)},y=Object.values(d),O=y.length,N=y.reduce((function(t,e){return t+ +e.saved}),0);(O===N&&n||O!==N&&!n)&&o(wt.SAVE);var j=a||!n;return Object(E.jsxs)(z.a,{alignItems:"center",direction:e?"column":"row",spacing:2,children:[Object(E.jsx)(Q,{color:"primary",disabled:j,onClick:function(){return f(wt.SAVE)},sx:{filter:j?void 0:s.palette.svg.filters.dropShadows[0]},children:"Save"}),Object(E.jsx)(Q,{color:"primary",disabled:i,onClick:function(){return f(wt.READY)},sx:{filter:i?void 0:s.palette.svg.filters.dropShadows[0]},children:a?"Unready":"Ready"})]})},_t=r(48),Gt=function(t){var e=t.iconState,r=void 0===e?At.a.INACTIVE:e,a=Object(b.a)();return Object(E.jsxs)("svg",{filter:a.palette.svg.filters.dropShadows[0],height:40,width:40,xmlns:"http://www.w3.org/2000/svg",children:[r===At.a.ACTIVE&&Object(E.jsx)("circle",{cx:"20",cy:"20",r:"20",fill:"#000"}),Object(E.jsx)("path",{d:"M30.692 16.247 20.579 7.562a.874.874 0 0 0-1.137 0L9.307 16.247a.855.855 0 0 0-.251.962c.063.167.176.31.325.412a.9.9 0 0 0 .506.156h2.047V28.94a.42.42 0 0 0 .127.289.436.436 0 0 0 .294.124h5.074a.436.436 0 0 0 .294-.124.42.42 0 0 0 .126-.29v-7.59a.41.41 0 0 1 .124-.292.425.425 0 0 1 .297-.121h3.413c.111 0 .218.043.297.12a.41.41 0 0 1 .124.293v7.59a.42.42 0 0 0 .126.29.436.436 0 0 0 .294.124h5.074a.436.436 0 0 0 .294-.124.42.42 0 0 0 .127-.29V17.778h2.047a.9.9 0 0 0 .524-.136.875.875 0 0 0 .346-.41.856.856 0 0 0-.244-.984Z",fill:"#fff"})]})},Ht=r(55),Ft={Russia:"RUS",Germany:"GER",Italy:"ITA",Austria:"AUS",England:"ENG",France:"FRA",Turkey:"TUR"},Vt={save:!1,ready:!1},Yt=function(){var t,e=Object(b.a)(),r=n.useState(!1),a=Object(m.a)(r,2),i=a[0],o=a[1],s=n.useState(!1),c=Object(m.a)(s,2),u=c[0],l=c[1],d=n.useRef(null),j=Object(v.b)(p.h),S=j.alternatives,T=j.excusedMissedTurns,L=j.members,I=j.name,g=j.phase,x=j.pot,R=j.season,D=j.user,P=j.year,B=Object(v.b)(p.f).data.contextVars,M=function(t){var r=_t.a[t.country];return Object(A.a)(Object(A.a)({},t),{},{abbr:Ft[t.country],color:e.palette[r].main,power:r,votes:{cancel:t.votes.includes(kt(G[G.cancel])),draw:t.votes.includes(kt(G[G.draw])),pause:t.votes.includes(kt(G[G.pause]))}})},k=[];L.forEach((function(t){t.userID!==D.member.userID&&k.push(M(t))}));var w=M(D.member),U=function(){o(!i)},_=Object(E.jsx)(y.a,{sx:{padding:0,pointerEvents:"all"},onClick:U,children:Object(E.jsx)(mt,{iconState:i?At.a.ACTIVE:At.a.INACTIVE})}),H=n.useState(Vt),F=Object(m.a)(H,2),V=F[0],Y=F[1];if(n.useEffect((function(){d.current&&setTimeout((function(){U()}),1e3)}),[d]),null!==B&&void 0!==B&&null!==(t=B.context)&&void 0!==t&&t.orderStatus){var W=Object(Ht.a)(B.context.orderStatus);W.None&&l(!0),!W.Ready&&V.ready&&Y((function(t){return Object(A.a)(Object(A.a)({},t),{},Object(f.a)({},wt.READY,!1))})),!W.Ready&&!W.None||V.ready||Y((function(t){return Object(A.a)(Object(A.a)({},t),{},Object(f.a)({},wt.READY,!0))}))}var z=d.current?Object(E.jsx)(ft,{isOpen:i,onClose:function(){o(!1)},anchorEl:d.current,children:Object(E.jsx)(lt,{alternatives:S,countries:k,excusedMissedTurns:T,phase:g,potNumber:x,season:R,title:I,userCountry:w,year:P,children:null})}):null;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(C,{position:N.TOP_RIGHT,children:[Object(E.jsx)(O.a,{href:"/",children:Object(E.jsx)(Gt,{})}),Object(E.jsx)(h.a,{sx:{pt:"15px"},ref:d,children:_}),z]}),Object(E.jsx)(C,{position:N.TOP_LEFT,children:Object(E.jsx)(Mt,{})}),Object(E.jsx)(C,{position:N.BOTTOM_RIGHT,children:Object(E.jsx)(Ut,{readyDisabled:u,gameState:V,toggleState:function(t){Y((function(e){return Object(A.a)(Object(A.a)({},e),{},Object(f.a)({},t,!V[t]))}))}})})]})},Wt=n.lazy((function(){return r.e(3).then(r.bind(null,227))})),zt=function(){var t=Object(v.b)(p.h),e=t.user,r=t.gameID;e&&r&&Object(v.a)()(Object(p.b)({gameID:r,countryID:e.member.countryID}));return Object(E.jsxs)(n.Suspense,{fallback:Object(E.jsx)("div",{children:"Loading..."}),children:[Object(E.jsx)(Wt,{}),Object(E.jsx)(Yt,{})]})},Kt=function(){var t=new URLSearchParams(window.location.search).get("gameID"),e=Object(v.a)();return e(Object(p.d)({gameID:t})),e(Object(p.c)({gameID:t,countryID:"0"})),Object(E.jsx)(h.a,{className:"App",children:Object(E.jsx)(zt,{})})},Zt=r(43),Xt=Object(Zt.a)({reducer:{game:p.a}});s.a.render(Object(E.jsx)(i.a.StrictMode,{children:Object(E.jsx)(l.a,{store:Xt,children:Object(E.jsxs)(c.a,{theme:d.a,children:[Object(E.jsx)(u.a,{}),Object(E.jsx)(Kt,{})]})})}),document.getElementById("root"))},24:function(t,e,r){"use strict";r.d(e,"b",(function(){return X})),r.d(e,"d",(function(){return Q})),r.d(e,"c",(function(){return J})),r.d(e,"i",(function(){return $})),r.d(e,"e",(function(){return ct})),r.d(e,"f",(function(){return ut})),r.d(e,"h",(function(){return lt})),r.d(e,"g",(function(){return dt}));var a,n=r(17),i=r(3),o=r(12),s=r(8),c=r(57),u=r(37),l=r.n(u),d=r(43),h=r(20),p=r(211);!function(t){t.GAME_DATA="game/data",t.GAME_STATUS="game/status",t.GAME_MESSAGES="game/getmessages",t.GAME_OVERVIEW="game/overview"}(a||(a={}));var v=a,f=r(86),A=r.n(f),m=function(t){return Object.entries(t).reduce((function(t,e){var r=Object(s.a)(e,2),a=r[0],n=r[1];return n&&t.push("".concat(encodeURI(a),"=").concat(encodeURI(n))),t}),[]).join("&")},b=A.a.create({baseURL:"https://test.webdiplomacy.net/api.php",headers:{"Content-Type":"multipart/form-data"}}),y=function(t,e){return b.get("?route=".concat(t,"&").concat(m(e)))},O=A.a.create({baseURL:"https://test.webdiplomacy.net/ajax.php",headers:{"Content-Type":"application/x-www-form-urlencoded"}}),N=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).length?O.post("/ajax.php?".concat(m(e)),t):O.post("/ajax.php",t)},E={apiStatus:"idle",data:{msg:"",referenceCode:"",success:!1,data:{currentOrders:[],territories:{},territoryStatuses:[],units:{}}},error:null,order:{inProgress:!1,method:"click",onTerritory:null,orderID:"",subsequentClicks:[],toTerritory:null,unitID:""},ordersMeta:{},ownUnits:[],maps:{territoryToUnit:{},unitToOrder:{},unitToTerritory:{}},territoriesMeta:{},commands:{mapCommands:{},territoryCommands:{},unitCommands:{}},overview:{alternatives:"",anon:"Yes",drawType:"draw-votes-public",excusedMissedTurns:4,gameID:0,gameOver:"No",members:[],minimumBet:5,name:"",pauseTimeRemaining:null,phase:"",phaseMinutes:14400,playerTypes:"",pot:35,potType:"",processStatus:"",processTime:null,season:"Spring",startTime:0,turn:0,user:{member:{bet:5,country:"Russia",countryID:1,excusedMissedTurns:0,missedPhases:0,newMessagesFrom:[],online:!1,orderStatus:{},status:"Playing",supplyCenterNo:4,timeLoggedIn:0,unitNo:4,userID:1,username:"",votes:[]}},variant:{id:1,mapID:1,name:"Classic",fullName:"Classic",description:"The standard Diplomacy map of Europe.",author:"Avalon Hill",countries:[],variantClasses:{drawMap:"Classic",adjudicatorPreGame:"Classic"},codeVersion:null,cacheVersion:null,coastParentIDByChildID:{76:8,77:8,78:32,79:32,80:20,81:20},coastChildIDsByParentID:{8:[76,77],32:[78,79],20:[80,81]},terrIDByName:null,supplyCenterCount:34,supplyCenterTarget:18},variantID:1,year:1901},status:{gameID:2,countryID:0,variantID:1,potType:"",turn:0,phase:"",gameOver:"No",pressType:"",phases:[],standoffs:[],occupiedFrom:[],votes:null,orderStatus:"",status:""},messages:{messages:[],pressType:"",phase:""}},j=r(4),S=r(27),T=r(48),C=r(36),L=r(83),I=r(32),g=["main","nc","sc"],x=r(55),R=r(22),D=r(23),P=function(){function t(e,r){Object(R.a)(this,t),this.node=e,this.pathToNode=r,this.complete=!1,this.alternativeChecked=!1,this.pathNextNodes=[],this.rank=0}return Object(D.a)(t,[{key:"includes",value:function(t){return this.node===t||null!=this.pathToNode&&this.pathToNode.includes(t)}},{key:"addNode",value:function(e){return new t(e,this)}},{key:"removeFirst",value:function(){null!=this.pathToNode&&(null!=this.pathToNode.pathToNode&&this.pathToNode.removeFirst(),this.newPathToNode(null))}},{key:"setComplete",value:function(t){this.node.path=this,null===this.pathToNode&&this.setRank(0),t&&-1===this.pathNextNodes.indexOf(t)&&(this.pathNextNodes.forEach((function(t){t.changeRank(1)})),t.setRank(this.pathNextNodes.length),this.pathNextNodes.push(t)),this.complete||(this.complete=!0,null!==this.pathToNode&&this.pathToNode.setComplete(this))}},{key:"getRank",value:function(){return this.rank+(null!==this.pathToNode?this.pathToNode.getRank():0)}},{key:"changeRank",value:function(t){this.rank+=t}},{key:"setRank",value:function(t){var e=t-this.rank;this.changeRank(e)}},{key:"getLastPathNode",value:function(){return 0===this.pathNextNodes.length?this:this.pathNextNodes[0].getLastPathNode()}},{key:"removePathNextNode",value:function(t){this.complete&&(-1!==this.pathNextNodes.indexOf(t)&&(this.pathNextNodes.splice(this.pathNextNodes.indexOf(t),1),this.pathNextNodes.forEach((function(t){t.changeRank(-1)})),0===this.pathNextNodes.length&&(this.node.path=null,this.dissolvePathToNode())))}},{key:"dissolvePathToNode",value:function(){null!=this.pathToNode&&this.pathToNode.removePathNextNode(this),this.complete=!1}},{key:"newPathToNode",value:function(t){return this.dissolvePathToNode(),this.pathToNode=t,this}},{key:"attachToNodePath",value:function(){return this.node.hasPath()?this.node.path.newPathToNode(this.pathToNode):this}},{key:"getNextNodeRank",value:function(){return this.getRank()+this.pathNextNodes.length-1}},{key:"searchAlternativeRoutes",value:function(t){if(this.complete){if(!this.alternativeChecked)if(t(this.node)||this.pathNextNodes.filter((function(e){return e.node===t})))this.alternativeChecked=!0;else{var e=this.getNextNodeRank(),r=new B(this.node,(function(r){return t(r)||r.hasPath()&&e<r.getMaxRank()}),(function(t){return e<t.getMaxRank()}));if(r.findPath()){var a=r.path;t(a.node)||(a=a.attachToNodePath()),a.removeFirst().newPathToNode(this),a.setComplete(),a.pathToNode.searchAlternativeRoutes(t)}else this.alternativeChecked=!0}null!==this.pathToNode&&this.pathToNode.searchAlternativeRoutes(t)}}},{key:"getAlternativeRoute",value:function(){var t=this;return this.alternativeChecked?null===this.pathToNode?null:this.pathToNode.pathNextNodes.length>1?this.pathToNode.pathNextNodes.find((function(e){return e!==t}),this).getLastPathNode():this.pathToNode.getAlternativeRoute():null}},{key:"canBeAppendedTo",value:function(t){t.markPath(t);var e=!0;return this.node.inPath===t?e=!1:null!==this.pathToNode&&(e=this.pathToNode.canBeAppendedTo(t)),e}},{key:"markPath",value:function(t){this.node.inPath!==t&&(this.node.inPath=t,null!==this.pathToNode&&this.pathToNode.markPath(t))}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.push(this.node.id),null!=this.pathToNode?this.pathToNode.toArray(t):t}},{key:"getLength",value:function(){return 1+(null!==this.pathToNode?this.pathToNode.getLength():0)}},{key:"getFirst",value:function(){return null===this.pathToNode?this:this.pathToNode.getFirst()}},{key:"getAllPathsFromThis",value:function(){return 0===this.pathNextNodes.length?this:this.pathNextNodes.map((function(t){return t.getAllPathsFromThis()})).flat()}}]),t}(),B=function(){function t(e,r,a){Object(R.a)(this,t),this.startTerr=e,this.fEndNode=r,this.fAllNode=a,this.success=!1,this.path=null}return Object(D.a)(t,[{key:"findPath",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=new P(this.startTerr,null);r.node.setVisited(this);for(var a=r.node.getValidBorderTerritories().filter((function(r){return!e||!t.fEndNode(r)}),this).map((function(t){return r.addNode(t)})),n=function(){var e=a.shift();if(t.fEndNode(e.node))return t.success=!0,t.path=e,{v:!0};!e.node.visited(t)&&t.fAllNode&&t.fAllNode(e.node)||(e.node.setVisited(t),e.node.getValidBorderTerritories().forEach((function(t){a.push(e.addNode(t))})))};a.length>0;){var i=n();if("object"===typeof i)return i.v}return!1}}]),t}(),M=function(){function t(){Object(R.a)(this,t),this.Nodes={},this.Path=void 0}return Object(D.a)(t,[{key:"addNodes",value:function(t){var e=this;t.map((function(t){return e.addNode(t)}))}},{key:"addNode",value:function(t){this.Nodes[t.id]=t}},{key:"initNodes",value:function(t){Object.values(this.Nodes).map((function(e){return e.nodeInit(t)}))}},{key:"routeSetLoad",value:function(t){var e=this;Object(n.a)(t.fleets).map((function(t){return e.addNode(t.Territory)})),Object(n.a)(t.armies).map((function(t){return e.addNode(t.Territory)})),Object(n.a)(t.coasts).map((function(t){return e.addNode(t)}))}},{key:"routeSetStart",value:function(t,e,r,a){this.initNodes(new B(t,e,r));var n=Object.values(this.Nodes).filter(a);if(1===n.length){var i=Object.values(this.Nodes).find(e);if(!i)return!1;var o=function(t){return t.id===n[0].id},s=new B(t,o);if(!s.findPath())return!1;var c,u,l=new B(i,o);if(!l.findPath())return!1;if(!l.path.pathToNode.canBeAppendedTo(s.path))if(s.path.getLength()>l.path.getLength()&&(s=l,i=t),s.path.setComplete(),s.path.pathToNode.searchAlternativeRoutes(o),!new B(i,(function(t){return o(t)||t.hasPath()&&t.getMaxRank()>0}),(function(t){return!t.hasPath()})).findPath())return!1;return o(l.path.node)?(c=s.path,u=l.path):(c=l.path.node.path.getAlternativeRoute(),u=l.path.attachToNodePath().getLastPathNode()),this.Path=c.toArray().reverse().concat(u.pathToNode.toArray()),this.Path[0]!==t.id&&this.Path.reverse(),this.Path.pop(),!0}if(n.length===Object.keys(this.Nodes).length){var d=new B(t,e);return!!d.findPath(!0)&&(this.Path=d.path.toArray().reverse(),this.Path.pop(),!0)}return!1}}]),t}(),k=Object.freeze({Child:"Child",No:"No",Parent:"Parent"}),w=Object.freeze({Build:"Build",Diplomacy:"Diplomacy",Retreat:"Retreat"}),U=Object.freeze({Army:"Army",Fleet:"Fleet"}),_=Object.freeze({Coast:"Coast",Land:"Land",Sea:"Sea"}),G=(Object.freeze({Hold:"Hold",Move:"Move",SupportHold:"Support hold",SupportMove:"Support move",Convoy:"Convoy",Retreat:"Retreat",Disband:"Disband",BuildArmy:"Build army",BuildFleet:"Build fleet",Wait:"Wait",Destroy:"Destroy"}),function(){function t(e){Object(R.a)(this,t),this.board=e,this.armies=new Set,this.coasts=new Set,this.fleets=new Set}return Object(D.a)(t,[{key:"setArmies",value:function(t){this.armies=t}},{key:"setCoasts",value:function(t){this.coasts=t}},{key:"setFleets",value:function(t){this.fleets=t}},{key:"loadFleet",value:function(t){var e=this;t.convoyLink||t.Territory.type!==_.Sea||(t.setConvoyLink(),t.setConvoyGroup(this),this.fleets.add(t),this.board.getBorderTerritories(t.Territory).forEach((function(t){t.type===_.Sea&&t.Unit&&e.loadFleet(t.Unit)})))}},{key:"loadCoasts",value:function(){var t=this;this.fleets.forEach((function(e){t.board.getBorderTerritories(e.Territory).forEach((function(e){e.type!==_.Coast||t.coasts.has(e)||(e.setConvoyGroups(t),t.coasts.add(e),e.Unit&&e.Unit.type===U.Army&&t.armies.add(e.Unit))}))}))}},{key:"linkGroups",value:function(){var e=this;this.coasts.forEach((function(r){if(!r.convoyLink){if(1===r.ConvoyGroups.length)r.setConvoyGroup(r.ConvoyGroups[0]);else{var a=new t(e.board);r.setConvoyGroup(a),r.ConvoyGroups.forEach((function(t){r.ConvoyGroup.setArmies(new Set([].concat(Object(n.a)(Array.from(r.ConvoyGroup.armies)),Object(n.a)(Array.from(t.armies))))),r.ConvoyGroup.setCoasts(new Set([].concat(Object(n.a)(Array.from(r.ConvoyGroup.coasts)),Object(n.a)(Array.from(t.coasts))))),r.ConvoyGroup.setFleets(new Set([].concat(Object(n.a)(Array.from(r.ConvoyGroup.fleets)),Object(n.a)(Array.from(t.fleets)))))}))}r.setConvoyLink(),r.Unit&&r.Unit.type===U.Army&&(r.Unit.setConvoyLink(),r.Unit.setConvoyGroup(r.ConvoyGroup))}}))}},{key:"nodeSetClass",value:function(){var t=new M;return t.routeSetLoad(this),t}},{key:"pathArmyToCoast",value:function(t,e){var r=this.nodeSetClass();return r.routeSetStart(t,(function(t){return(null===t||void 0===t?void 0:t.id)===e.id}),(function(t){return t.type===_.Sea}),(function(){return!0})),r.Path}},{key:"pathArmyToCoastWithoutFleet",value:function(t,e,r){var a=this.nodeSetClass();return a.routeSetStart(t,(function(t){return(null===t||void 0===t?void 0:t.id)===e.id}),(function(t){return t.type===_.Sea&&t.id!==r.id}),(function(){return!0})),a.Path}},{key:"pathArmyToCoastWithFleet",value:function(t,e,r){var a=this.nodeSetClass();return a.routeSetStart(t,(function(t){return(null===t||void 0===t?void 0:t.id)===e.id}),(function(t){return t.type===_.Sea}),(function(t){return t.id===r.id})),a.Path}}]),t}()),H=function(){function t(e,r,a){Object(R.a)(this,t),this.id=void 0,this.countryID=void 0,this.coast=void 0,this.coastParent=void 0,this.coastParentID=void 0,this.convoyLink=void 0,this.name=void 0,this.occupiedFromTerrID=void 0,this.ownerCountryID=void 0,this.supply=void 0,this.standoff=void 0,this.type=void 0,this.unitID=void 0,this.Borders=void 0,this.CoastalBorders=void 0,this.ConvoyGroup=void 0,this.ConvoyGroups=void 0,this.Unit=void 0,this.convoyNode=!0,this.board=void 0,this.lastVisitedBy=null,this.lastSearchNotSuccess=null,this.path=null,this.validBorderTerritoriesCache=[],this.search=void 0,this.inPath=null,Object.assign(this,Object(o.a)(Object(o.a)({},e),{},{supply:"Yes"===e.supply,ConvoyGroups:[],convoyLink:!1})),a&&Object.assign(this,a),this.board=r}return Object(D.a)(t,[{key:"setUnit",value:function(t){this.Unit=t}},{key:"setCoastParent",value:function(t){var e=t.Borders,r=t.supply;this.coastParent=t,this.Borders=e,this.supply=r}},{key:"setConvoyLink",value:function(){this.convoyLink=!0}},{key:"setConvoyGroups",value:function(t){this.ConvoyGroups.push(t)}},{key:"setConvoyGroup",value:function(t){this.ConvoyGroup=t}},{key:"nodeInit",value:function(t){this.convoyNode=!0,this.lastVisitedBy=null,this.lastSearchNotSuccess=null,this.path=null,this.validBorderTerritoriesCache=[],this.search=t,this.inPath=null}},{key:"visited",value:function(t){return this.lastVisitedBy===t}},{key:"setVisited",value:function(t){this.lastVisitedBy&&!this.lastVisitedBy.success&&(this.lastSearchNotSuccess=this.lastVisitedBy),this.lastVisitedBy=t}},{key:"getMaxRank",value:function(){return this.hasPath()&&this.path?this.path.getRank():null!==this.lastSearchNotSuccess?this.lastSearchNotSuccess.path.getNextNodeRank():1/0}},{key:"hasPath",value:function(){return!(null===this.path)}},{key:"isConvoyNode",value:function(){return!!this.convoyNode&&this.convoyNode}},{key:"getValidBorderTerritories",value:function(){var t=this;return this.validBorderTerritoriesCache.length||(this.validBorderTerritoriesCache=this.Borders.filter((function(t){return t.f})).map((function(e){return t.board.findTerritoryByID(e.id)})).filter((function(e){return!!t.search&&(!!e&&(e.isConvoyNode()&&e.id!==t.search.startTerr.id&&(t.search.fAllNode(e)||t.search.fEndNode(e))))}))),this.validBorderTerritoriesCache}}]),t}(),F=function(){function t(e){Object(R.a)(this,t),this.id=void 0,this.countryID=void 0,this.convoyLink=void 0,this.type=void 0,this.terrID=void 0,this.Territory=void 0,this.ConvoyGroup=void 0,Object.assign(this,Object(o.a)(Object(o.a)({},e),{},{convoyLink:!1}))}return Object(D.a)(t,[{key:"setTerritory",value:function(t){this.Territory=t}},{key:"setConvoyGroup",value:function(t){this.ConvoyGroup=t}},{key:"setConvoyLink",value:function(){this.convoyLink=!0}},{key:"canCrossBorder",value:function(t){return!(this.type===U.Army&&!t.a||this.type===U.Fleet&&!t.f)}}]),t}(),V=function(){function t(e,r,a,n){var i=this;Object(R.a)(this,t),this.context=e,this.convoyGroups=[],this.supplyCenters=[],this.territories=[],this.units=[];var o=[],s=[];this.territories=r.map((function(t){var e=a.find((function(e){return e.id===t.id})),r=new H(t,i);if(e){var c;if(r=new H(t,i,e),e.unitID){var u=n.find((function(t){return t.id===e.unitID}));c=u?new F(u):null}c&&(r.setUnit(c),c.setTerritory(r),i.units.push(c))}return r.coast===k.Parent&&o.push(r),r.coast===k.Child&&s.push(r),r.coastParentID===r.id&&(r.coastParent=r),r})),s.forEach((function(t){var e=o.find((function(e){return e.id===t.coastParentID}));e&&t.setCoastParent(e)})),e.phase===w.Diplomacy&&(this.units.forEach((function(t){if(t.type===U.Fleet&&t.Territory.type===_.Sea){var e=new G(i);e.loadFleet(t),e.loadCoasts(),i.convoyGroups.push(e)}})),this.convoyGroups.forEach((function(t){return t.linkGroups()})),this.convoyGroups.forEach((function(t){return t.linkGroups()}))),e.phase===w.Build&&this.territories.forEach((function(t){t.coastParent.supply&&t.coastParent.countryID===e.countryID&&t.coastParent.ownerCountryID===e.countryID&&!t.coastParent.Unit&&i.supplyCenters.push(t)}))}return Object(D.a)(t,[{key:"findUnitByID",value:function(t){return this.units.find((function(e){return e.id===t}))}},{key:"findTerritoryByID",value:function(t){return this.territories.find((function(e){return e.id===t}))}},{key:"getBorderTerritories",value:function(t){var e=t.Borders.map((function(t){return t.id}));return this.territories.filter((function(t){return e.includes("".concat(t.id))}))}},{key:"getBorderUnits",value:function(t){return this.getBorderTerritories(t.coastParent).map((function(t){return t.Unit}))}},{key:"getMovableTerritories",value:function(t){var e=this;return t.Territory.CoastalBorders.reduce((function(r,a){if(t.canCrossBorder(a)){var n=e.territories.find((function(t){return t.id===a.id}));n&&r.push(n)}return r}),[])}},{key:"getReachableTerritories",value:function(e){if(!e.convoyLink&&e.type!==U.Army)return[];var r=this.getMovableTerritories(e),a=Array.from(e.ConvoyGroup.coasts).reduce((function(r,a){return t.canConvoyTo(a,e)&&r.push(a),r}),[]);return Array.from(new Set(r.concat(a)))}},{key:"getMovableUnits",value:function(t){return this.getMovableTerritories(t).reduce((function(t,e){return e.coastParent.Unit&&t.push(e.coastParent.Unit),t}),[])}},{key:"canMoveInto",value:function(t,e){return!!this.getMovableTerritories(t).map((function(t){return t.coastParent.id})).includes(e.coastParent.id)}}],[{key:"canConvoyTo",value:function(t,e){if(e.type===U.Army){if(t.id===e.Territory.id)return!1;if(e.convoyLink&&t.convoyLink&&e.ConvoyGroup.coasts.has(t))return!0}return!1}}]),t}(),Y=function(){function t(e,r,a){Object(R.a)(this,t),this.board=e,this.orderData=r,this.unit=a}return Object(D.a)(t,[{key:"getMoveChoices",value:function(){var t=this,e=this.board.getMovableTerritories(this.unit).map((function(t){return t}));if(this.unit.convoyLink&&this.unit.type===U.Army){var r=Array.from(this.unit.ConvoyGroup.coasts).reduce((function(e,r){return V.canConvoyTo(r,t.unit)&&e.push(r),e}),[]);return Array.from(new Set(e.concat(r)))}return e}},{key:"getSupportHoldChoices",value:function(){var t=this.board.getMovableUnits(this.unit).reduce((function(t,e){return e.Territory.coastParent&&t.push(e.Territory.coastParent),t}),[]);return Array.from(new Set(t))}},{key:"getSupportMoveToChoices",value:function(){return this.board.getMovableTerritories(this.unit).map((function(t){return t.coastParent}))}},{key:"getSupportMoveFromChoices",value:function(t){var e,r=this,a=this.board.getBorderUnits(t.coastParent).filter((function(e){return e&&r.board.canMoveInto(e,t)}));t.convoyLink&&(e=this.unit.convoyLink&&this.unit.type===U.Fleet&&Array.from(this.unit.ConvoyGroup.coasts).map((function(t){return t.id})).includes(t.id)?Array.from(t.ConvoyGroup.armies).filter((function(e){return!!t.ConvoyGroup.pathArmyToCoastWithoutFleet(e.Territory,t,r.unit.Territory)})):t.ConvoyGroup.armies,a=[].concat(Object(n.a)(a),Object(n.a)(e)));return Array.from(new Set(a.map((function(t){return t.Territory.coastParent})))).filter((function(e){return e.id!==r.unit.Territory.coastParent.id&&e.id!==t.id}))}},{key:"getConvoyToChoices",value:function(){return this.unit.convoyLink?Array.from(this.unit.ConvoyGroup.coasts).map((function(t){return t.id})):[]}},{key:"getConvoyFromChoices",value:function(t){var e=this;return this.unit.convoyLink?Array.from(this.unit.ConvoyGroup.armies).filter((function(r){return t.id!==r.Territory.id&&!!t.ConvoyGroup.pathArmyToCoastWithFleet(r.Territory,t,e.unit.Territory)})):[]}}]),t}();var W=r(26),z=r(39),K=r(49);var Z=r(38);var X=Object(d.b)(v.GAME_DATA,function(){var t=Object(c.a)(l.a.mark((function t(e){var r,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(v.GAME_DATA,e);case 2:return r=t.sent,a=r.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Q=Object(d.b)(v.GAME_OVERVIEW,function(){var t=Object(c.a)(l.a.mark((function t(e){var r,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(v.GAME_OVERVIEW,e);case 2:return r=t.sent,a=r.data.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),q=Object(d.b)(v.GAME_STATUS,function(){var t=Object(c.a)(l.a.mark((function t(e){var r,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(v.GAME_STATUS,e);case 2:return r=t.sent,a=r.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),J=Object(d.b)(v.GAME_MESSAGES,function(){var t=Object(c.a)(l.a.mark((function t(e){var r,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(v.GAME_MESSAGES,e);case 2:return r=t.sent,a=r.data.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),$=Object(d.b)("game/submitOrders",function(){var t=Object(c.a)(l.a.mark((function t(e){var r,a,n,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=new FormData).set("orderUpdates",JSON.stringify(e.orderUpdates)),r.set("context",e.context),r.set("contextKey",e.contextKey),t.next=6,N(r,e.queryParams);case 6:return a=t.sent,n=a.headers["x-json"]||"",i=JSON.parse(n.substring(1,n.length-1)),t.abrupt("return",i);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),tt=function(t,e,r,a){var n=Object(h.a)(t).commands[r],i=new Map(n[a])||new Map;i.set(Object(p.a)(),e),t.commands[r][a]=i},et=function(t){var e=Object(h.a)(t).order,r=e.unitID;if("hold"!==e.type){tt(t,{command:"NONE"},"unitCommands",r)}t.order.inProgress=!1,t.order.unitID="",t.order.orderID="",t.order.onTerritory=0,t.order.toTerritory=0,delete t.order.type},rt=function(t,e){var r=Object(h.a)(t).order.unitID;if(r){tt(t,{command:"NONE"},"unitCommands",r)}delete t.order.type;var a=function(t,e){var r,a=e.method,n=e.onTerritory,i=e.orderID,o=e.toTerritory,s=e.type,c=e.unitID,u=Object(h.a)(t).data.data,l={inProgress:!0,method:a,onTerritory:n,orderID:i||(null===(r=u.currentOrders.find((function(t){return t.unitID===c})))||void 0===r?void 0:r.id),subsequentClicks:[],toTerritory:o,unitID:c};return s&&(l.type=s),l}(t,e.payload);t.order=a;var n=a.unitID;if(n){tt(t,{command:"SELECTED"},"unitCommands",n)}},at=function(t){var e=Object(h.a)(t),r=e.territoriesMeta,a=e.overview.members;if(Object.keys(r).length){var n={};a.forEach((function(t){n[t.countryID]=t.country})),Object.values(r).forEach((function(e){var r=e.ownerCountryID,a=e.territory,i=r?n[r]:void 0;if(a){var o={command:"CAPTURED",data:{country:i?T.a[i]:"none"}};tt(t,o,"territoryCommands",j.a[a])}}))}},nt=function(t){var e=Object(h.a)(t),r=e.ordersMeta,a=e.territoriesMeta,n=e.overview,i=n.members;"Builds"===n.phase&&Object.values(r).forEach((function(e){var r=e.update;if(r){var n=r.toTerrID,o=r.type,s=Object.values(a).find((function(t){return t.id===n}));if(s){var c=L.b[o],u=S.a[s.name],l=i.find((function(t){return t.countryID.toString()===s.countryID}));if(l){var d={command:"SET_UNIT",data:{setUnit:{componentType:"Icon",country:T.a[null===l||void 0===l?void 0:l.country],iconState:I.a.BUILD,unitSlotName:u.unitSlotName,unitType:L.a[c]}}},h=s.territory===j.a.SAINT_PETERSBURG_NORTH_COAST||s.territory===j.a.SAINT_PETERSBURG_SOUTH_COAST?j.a[j.a.SAINT_PETERSBURG]:j.a[s.territory];tt(t,d,"territoryCommands",h),tt(t,d={command:"MOVE"},"territoryCommands",h)}}}}))},it=function(t){var e=Object(h.a)(t),r=e.data.data,a=e.maps,n=e.ordersMeta;Z.b("line").remove(),function(t,e){var r=t.currentOrders,a=t.territories,n=t.units,i=Object.entries(e);i.length&&n&&a&&i.filter((function(t){var e=Object(s.a)(t,2)[1].update;return"Move"===(null===e||void 0===e?void 0:e.type)})).forEach((function(t){var e=Object(s.a)(t,2),i=e[0],o=e[1].update,c=r.find((function(t){return t.id===i}));if(c&&o&&o.toTerrID){var u=c.id,l=c.unitID,d=n[l],h=a[d.terrID],p=a[o.toTerrID],v=S.a[h.name].territory,f=S.a[p.name].territory;Object(K.a)(u,z.a.MOVE,W.a.MOVE,"territory",f,v)}}))}(r,n),function(t,e,r){var a=t.currentOrders,n=t.territories,i=t.units,o=Object.entries(r);o.length&&i&&n&&o.filter((function(t){var e=Object(s.a)(t,2)[1].update;return"Support move"===(null===e||void 0===e?void 0:e.type)})).forEach((function(t){var i=Object(s.a)(t,2),o=i[0],c=i[1].update,u=null===a||void 0===a?void 0:a.find((function(t){return t.id===o}));if(u&&c){var l=c.fromTerrID,d=c.toTerrID;if(l&&d){var h=u.id,p=u.unitID,v=e.territoryToUnit[l],f=e.unitToOrder[v],A=e.unitToTerritory[p],m=n[A],b=r[f].update;if(b){var y=b.type,O=b.toTerrID,N=f;"Move"===y&&O===d||(N="".concat(h,"-implied"),Object(K.a)(N,z.a.MOVE,W.a.IMPLIED,"territory",S.a[n[d].name].territory,S.a[n[l].name].territory)),Object(K.a)(h,z.a.SUPPORT,W.a.SUPPORT_MOVE,"arrow",N,S.a[m.name].territory)}}}}))}(r,a,n),function(t,e){var r=t.currentOrders,a=t.territories,n=t.units,i=Object.entries(e);i.length&&n&&a&&i.filter((function(t){var e=Object(s.a)(t,2)[1].update;return"Support hold"===(null===e||void 0===e?void 0:e.type)})).forEach((function(t){var e=Object(s.a)(t,2),i=e[0],o=e[1].update,c=r.find((function(t){return t.id===i}));if(c&&o&&o.toTerrID){var u=c.id,l=c.unitID,d=n[l],h=a[d.terrID],p=a[o.toTerrID],v=S.a[h.name].territory,f=S.a[p.name].territory;Object(K.a)(u,z.a.HOLD,W.a.SUPPORT_HOLD,"unit",f,v)}}))}(r,n),nt(t)},ot=function(t,e){Object.entries(e).forEach((function(e){var r=Object(s.a)(e,2),a=r[0],n=r[1];t.ordersMeta[a]=Object(o.a)(Object(o.a)({},t.ordersMeta[a]),n)})),it(t)},st=Object(d.c)({name:"game",initialState:E,reducers:{resetOrder:et,updateOrdersMeta:function(t,e){ot(t,e.payload)},updateTerritoriesMeta:function(t,e){t.territoriesMeta=e.payload},processUnitDoubleClick:function(t,e){var r,a=Object(h.a)(t),n=a.data.data.contextVars;if(a.ownUnits.includes(e.payload.unitID)){var i;if(null!==n&&void 0!==n&&null!==(r=n.context)&&void 0!==r&&r.orderStatus)if(Object(x.a)(null===n||void 0===n||null===(i=n.context)||void 0===i?void 0:i.orderStatus).Ready)return;rt(t,e)}},processUnitClick:function(t,e){var r,a,n=Object(h.a)(t),i=n.data.data.contextVars,s=n.order,c=s.inProgress,u=s.method,l=s.onTerritory,d=s.orderID,p=(s.toTerritory,s.type),v=s.unitID,f=n.ownUnits;if(null!==i&&void 0!==i&&null!==(r=i.context)&&void 0!==r&&r.orderStatus&&Object(x.a)(null===i||void 0===i||null===(a=i.context)||void 0===a?void 0:a.orderStatus).Ready)return;c?v===e.payload.unitID?et(t):"hold"!==p&&"move"!==p||null===l?"dblClick"===u&&v!==e.payload.unitID?t.order.subsequentClicks.push(Object(o.a)(Object(o.a)({},{inProgress:!0,orderID:d,toTerritory:null}),e.payload)):f.includes(e.payload.unitID)&&rt(t,e):at(t):f.includes(e.payload.unitID)&&rt(t,e)},processMapClick:function(t,e){var r,a,o=Object(h.a)(t),c=o.data.data,u=c.currentOrders,l=c.contextVars,d=o.order,p=d.inProgress,v=d.method,f=d.orderID,A=d.onTerritory,m=d.subsequentClicks,b=d.toTerritory,y=d.type,O=d.unitID,N=o.ordersMeta,E=o.overview,T=E.user.member,L=E.phase,I=o.territoriesMeta;if(null!==l&&void 0!==l&&null!==(r=l.context)&&void 0!==r&&r.orderStatus&&Object(x.a)(null===l||void 0===l||null===(a=l.context)||void 0===a?void 0:a.orderStatus).Ready)return;var R=e.payload,D=R.clickObject,P=R.evt,B=R.name;if(p&&"click"===v){var M=O;if(null===A||j.a[A]!==B||y){if(null!==A&&"hold"===y)at(t),et(t);else if(null!==b&&"move"===y)at(t),et(t);else if(null!==b&&"build"===y)tt(t,{command:"REMOVE_BUILD"},"territoryCommands",j.a[b]),et(t);else if("territory"===D&&null!==A&&j.a[A]!==B&&!y&&p){var k=N[f].allowedBorderCrossings,w=null===k||void 0===k?void 0:k.find((function(t){var e=S.a[t.name];return j.a[e.territory]===B}));if(w){at(t);tt(t,{command:"MOVE"},"territoryCommands",B),ot(t,Object(i.a)({},f,{saved:!1,update:{type:"Move",toTerrID:w.id,viaConvoy:"No"}})),t.order.toTerritory=S.a[w.name].territory,t.order.type="move"}else{tt(t,{command:"INVALID_CLICK",data:{click:{evt:P,territoryName:B}}},"mapCommands","all")}}}else{var U={command:"HOLD"};if(tt(t,U,"territoryCommands",B),tt(t,U,"unitCommands",M),tt(t,U={command:"REMOVE_ARROW",data:{orderID:f}},"mapCommands","all"),u){var _=u.find((function(t){return t.unitID===M}));_&&ot(t,Object(i.a)({},_.id,{saved:!1,update:{type:"Hold",toTerrID:null}}))}t.order.type="hold"}}else if(p&&"dblClick"===v){if(m.length){var G=N[f],H=m[0],F=Number(j.a[B]);if(F===H.onTerritory){var V,Y=null===(V=G.supportHoldChoices)||void 0===V?void 0:V.find((function(t){return t.unitID===H.unitID}));if(Y)return ot(t,Object(i.a)({},f,{saved:!1,update:{type:"Support hold",toTerrID:Y.id}})),void et(t)}else{var W,z=null===(W=G.supportMoveChoices)||void 0===W?void 0:W.find((function(t){var e=t.supportMoveTo.name;return S.a[e].territory===F}));if(z&&z.supportMoveFrom.length){var K=z.supportMoveFrom.find((function(t){return t.unitID===H.unitID}));if(K)return ot(t,Object(i.a)({},f,{saved:!1,update:{type:"Support move",toTerrID:z.supportMoveTo.id,fromTerrID:K.id}})),void et(t)}}tt(t,{command:"INVALID_CLICK",data:{click:{evt:P,territoryName:B}}},"mapCommands","all")}}else if("territory"===D&&"Builds"===L&&u){var Z=I[j.a[B]];if(Z){var X=Z.coast,Q=Z.countryID,q=Z.id,J=Z.supply,$=Z.type;if(T.countryID.toString()!==Q||!J)return;var nt=I[j.a.SAINT_PETERSBURG],it=I[j.a.SAINT_PETERSBURG_NORTH_COAST],st=I[j.a.SAINT_PETERSBURG_SOUTH_COAST],ct={};nt&&(ct[nt.id]=[null===it||void 0===it?void 0:it.id,null===st||void 0===st?void 0:st.id]);var ut=ct[q]?[q].concat(Object(n.a)(ct[q])):[q],lt=Object.entries(N).find((function(t){var e=Object(s.a)(t,2)[1].update;return!!e&&ut.includes(e.toTerrID)}));if(lt){var dt=Object(s.a)(lt,1)[0],ht={command:"REMOVE_BUILD",data:{removeBuild:{orderID:dt}}};return tt(t,ht,"territoryCommands",B),g.forEach((function(e){tt(t,ht={command:"SET_UNIT",data:{setUnit:{unitSlotName:e}}},"territoryCommands",B)})),void ot(t,Object(i.a)({},dt,{saved:!1,update:{type:"Wait",toTerrID:null}}))}for(var pt,vt=!!Z.unitID,ft=0;ft<u.length;ft+=1){var At,mt=u[ft].id,bt=N[mt];if(!bt.update||null===(At=bt.update)||void 0===At||!At.toTerrID){pt=mt;break}}if(pt&&!vt&&!p){var yt=0;"Parent"!==X&&"No"!==X||(yt+=C.a.Army),"Land"!==$&&"Parent"!==X&&(yt+=C.a.Fleet);var Ot={command:"BUILD",data:{build:[{availableOrder:pt,canBuild:yt,toTerrID:Z.id,unitSlotName:"main"}]}};if(Z.territory===j.a.SAINT_PETERSBURG){var Nt,Et,jt,St,Tt=I[j.a.SAINT_PETERSBURG_NORTH_COAST],Ct=I[j.a.SAINT_PETERSBURG_SOUTH_COAST];Tt&&(null===(Nt=Ot.data)||void 0===Nt||null===(Et=Nt.build)||void 0===Et||Et.push({availableOrder:pt,canBuild:C.a.Fleet,toTerrID:Tt.id,unitSlotName:"nc"})),Ct&&(null===(jt=Ot.data)||void 0===jt||null===(St=jt.build)||void 0===St||St.push({availableOrder:pt,canBuild:C.a.Fleet,toTerrID:Ct.id,unitSlotName:"sc"}))}tt(t,Ot,"territoryCommands",B),rt(t,{payload:{inProgress:!0,method:"click",orderID:pt,onTerritory:null,subsequentClicks:[],toTerritory:Z.territory,type:"build",unitID:""}})}}}},deleteCommand:function(t,e){var r=e.payload,a=r.type,n=r.command,i=r.id,o=Object(h.a)(t).commands[a],s=new Map(o[i]),c=n;if(s&&s.has(c)){var u=new Map(s);u.delete(c),t.commands[a][i]=u}},highlightMapTerritories:function(t){at(t)},drawBuilds:nt,dispatchCommand:function(t,e){var r=e.payload,a=r.command,n=r.container,i=r.identifier;tt(t,a,n,i)}},extraReducers:function(t){t.addCase(X.pending,(function(t){t.apiStatus="loading"})).addCase(X.fulfilled,(function(t,e){var r;t.apiStatus="succeeded",t.data=e.payload;var a=Object(h.a)(t),n=a.data.data,i=a.overview,s=i.members,c=i.phase;t.maps=function(t){var e=t.units,r=t.currentOrders,a={},n={},i={};return Object.values(e).forEach((function(t){var e=t.id,r=t.terrID;a[r]=e,i[e]=r})),null===r||void 0===r||r.forEach((function(t){var e=t.id,r=t.unitID;n[r]=e})),{territoryToUnit:a,unitToOrder:n,unitToTerritory:i}}(n),null===(r=n.currentOrders)||void 0===r||r.forEach((function(e){var r=e.unitID;t.ownUnits.push(r)}));var u=function(t,e){var r=[],a=t.territories,n=t.units;return Object.values(n).forEach((function(t){var n=a[t.terrID];if(n){var i=S.a[n.name];if(i){var o=e.find((function(e){return e.countryID.toString()===t.countryID}));if(o){var s=o.country;r.push({country:T.a[s],mappedTerritory:i,unit:t})}}}})),r}(n,s);u.forEach((function(e){var r=e.country,a=e.mappedTerritory,n=e.unit,i={command:"SET_UNIT",data:{setUnit:{componentType:"Game",country:r,mappedTerritory:a,unit:n,unitType:n.type,unitSlotName:a.unitSlotName}}};tt(t,i,"territoryCommands",a.parent?j.a[a.parent]:j.a[a.territory])})),ot(t,function(t,e){var r=t.contextVars,a=t.currentOrders,n=t.territories,i=t.territoryStatuses,s=t.units,c={};if(null!==r&&void 0!==r&&r.context)if("Builds"===e)a.forEach((function(t){var e=t.id,r=t.toTerrID,a=t.type;c[e]={saved:!0,update:{type:r?a:"Wait",toTerrID:r}}}));else{var u=new V(r.context,Object.values(n),i,Object.values(s)),l=[];a.forEach((function(t){var e=t.id,r=t.unitID,a=t.type,n=t.toTerrID,i=t.fromTerrID,o=u.findUnitByID(r);o&&(l.push(new Y(u,t,o)),c[e]={update:{type:a,toTerrID:n,fromTerrID:i}})})),l.forEach((function(t){var e=t.getMoveChoices(),r=t.getSupportMoveToChoices(),a=t.getSupportHoldChoices(),n=[];r.forEach((function(e){var r=t.getSupportMoveFromChoices(e);r.length&&n.push({supportMoveTo:e,supportMoveFrom:r})}));var i=u.findUnitByID(t.unit.id),s=[];i&&(s=e.filter((function(t){var e=t.Borders.find((function(t){return t.id===i.terrID}));return!(!e||!i.canCrossBorder(e))})),c[t.orderData.id]=Object(o.a)(Object(o.a)(Object(o.a)({},{saved:!0}),c[t.orderData.id]),{},{allowedBorderCrossings:s,supportMoveChoices:n,supportHoldChoices:a}))}))}return c}(n,c))})).addCase(X.rejected,(function(t,e){t.apiStatus="failed",t.error=e.error.message})).addCase(Q.pending,(function(t){t.apiStatus="loading"})).addCase(Q.fulfilled,(function(t,e){t.apiStatus="succeeded",t.overview=e.payload})).addCase(Q.rejected,(function(t,e){t.apiStatus="failed",t.error=e.error.message})).addCase(q.pending,(function(t){t.apiStatus="loading"})).addCase(q.fulfilled,(function(t,e){t.apiStatus="succeeded",t.status=e.payload})).addCase(q.rejected,(function(t,e){t.apiStatus="failed",t.error=e.error.message})).addCase($.fulfilled,(function(t,e){if(e.payload){var r=e.payload,a=r.orders,n=r.newContext,i=r.newContextKey;n&&i&&(t.data.data.contextVars={context:n,contextKey:i}),Object.entries(a).forEach((function(e){var r=Object(s.a)(e,2),a=r[0];"Complete"===r[1].status&&(t.ordersMeta[a].saved=!0)}))}})).addCase(J.fulfilled,(function(t,e){if(e.payload){var r=e.payload,a=r.messages,n=r.phase,i=r.pressType;t.messages={messages:a,phase:n,pressType:i}}}))}}),ct=st.actions,ut=function(t){return t.game.data},lt=function(t){return t.game.overview},dt=function(t){return t.game.ordersMeta};e.a=st.reducer},26:function(t,e,r){"use strict";var a;!function(t){t[t.IMPLIED=0]="IMPLIED",t[t.IMPLIED_FOREIGN=1]="IMPLIED_FOREIGN",t[t.MOVE=2]="MOVE",t[t.MOVE_FAILED=3]="MOVE_FAILED",t[t.RETREAT=4]="RETREAT",t[t.SUPPORT_HOLD=5]="SUPPORT_HOLD",t[t.SUPPORT_MOVE=6]="SUPPORT_MOVE"}(a||(a={})),e.a=a},27:function(t,e,r){"use strict";var a=r(4),n={Clyde:{territory:a.a.CLYDE,unitSlotName:"main"},Edinburgh:{territory:a.a.EDINBURGH,unitSlotName:"main"},Liverpool:{territory:a.a.LIVERPOOL,unitSlotName:"main"},Yorkshire:{territory:a.a.YORK,unitSlotName:"main"},Wales:{territory:a.a.WALES,unitSlotName:"main"},London:{territory:a.a.LONDON,unitSlotName:"main"},Portugal:{territory:a.a.PORTUGAL,unitSlotName:"main"},Spain:{territory:a.a.SPAIN,unitSlotName:"main"},"North Africa":{territory:a.a.NORTH_AFRICA,unitSlotName:"main"},Tunis:{territory:a.a.TUNIS,unitSlotName:"main"},Naples:{territory:a.a.NAPLES,unitSlotName:"main"},Rome:{territory:a.a.ROME,unitSlotName:"main"},Tuscany:{territory:a.a.TUSCANY,unitSlotName:"main"},Piedmont:{territory:a.a.PIEDMONT,unitSlotName:"main"},Venice:{territory:a.a.VENICE,unitSlotName:"main"},Apulia:{territory:a.a.APULIA,unitSlotName:"main"},Greece:{territory:a.a.GREECE,unitSlotName:"main"},Albania:{territory:a.a.ALBANIA,unitSlotName:"main"},Serbia:{territory:a.a.SERBIA,unitSlotName:"main"},Bulgaria:{territory:a.a.BULGARIA,unitSlotName:"main"},Rumania:{territory:a.a.RUMANIA,unitSlotName:"main"},Constantinople:{territory:a.a.CONSTANTINOPLE,unitSlotName:"main"},Smyrna:{territory:a.a.SMYRNA,unitSlotName:"main"},Ankara:{territory:a.a.ANKARA,unitSlotName:"main"},Armenia:{territory:a.a.ARMENIA,unitSlotName:"main"},Syria:{territory:a.a.SYRIA,unitSlotName:"main"},Sevastopol:{territory:a.a.SEVASTOPOL,unitSlotName:"main"},Ukraine:{territory:a.a.UKRAINE,unitSlotName:"main"},Warsaw:{territory:a.a.WARSAW,unitSlotName:"main"},Livonia:{territory:a.a.LIVONIA,unitSlotName:"main"},Moscow:{territory:a.a.MOSCOW,unitSlotName:"main"},"St. Petersburg":{territory:a.a.SAINT_PETERSBURG,unitSlotName:"main"},Finland:{territory:a.a.FINLAND,unitSlotName:"main"},Sweden:{territory:a.a.SWEDEN,unitSlotName:"main"},Norway:{territory:a.a.NORWAY,unitSlotName:"main"},Denmark:{territory:a.a.DENMARK,unitSlotName:"main"},Kiel:{territory:a.a.KIEL,unitSlotName:"main"},Berlin:{territory:a.a.BERLIN,unitSlotName:"main"},Prussia:{territory:a.a.PRUSSIA,unitSlotName:"main"},Silesia:{territory:a.a.SILESIA,unitSlotName:"main"},Munich:{territory:a.a.MUNICH,unitSlotName:"main"},Ruhr:{territory:a.a.RUHR,unitSlotName:"main"},Holland:{territory:a.a.HOLLAND,unitSlotName:"main"},Belgium:{territory:a.a.BELGIUM,unitSlotName:"main"},Picardy:{territory:a.a.PICARDY,unitSlotName:"main"},Brest:{territory:a.a.BREST,unitSlotName:"main"},Paris:{territory:a.a.PARIS,unitSlotName:"main"},Burgundy:{territory:a.a.BURGUNDY,unitSlotName:"main"},Marseilles:{territory:a.a.MARSEILLES,unitSlotName:"main"},Gascony:{territory:a.a.GASCONY,unitSlotName:"main"},"Barents Sea":{territory:a.a.BARENTS_SEA,unitSlotName:"main"},"Norwegian Sea":{territory:a.a.NORWEGIAN_SEA,unitSlotName:"main"},"North Sea":{territory:a.a.NORTH_SEA,unitSlotName:"main"},Skagerrack:{territory:a.a.SKAGERRACK,unitSlotName:"main"},"Heligoland Bight":{territory:a.a.HELIGOLAND_BIGHT,unitSlotName:"main"},"Baltic Sea":{territory:a.a.BALTIC_SEA,unitSlotName:"main"},"Gulf of Bothnia":{territory:a.a.GULF_OF_BOTHNIA,unitSlotName:"main"},"North Atlantic Ocean":{territory:a.a.NORTH_ATLANTIC,unitSlotName:"main"},"Irish Sea":{territory:a.a.IRISH_SEA,unitSlotName:"main"},"English Channel":{territory:a.a.ENGLISH_CHANNEL,unitSlotName:"main"},"Mid-Atlantic Ocean":{territory:a.a.MIDDLE_ATLANTIC,unitSlotName:"main"},"Western Mediterranean":{territory:a.a.WESTERN_MEDITERRANEAN,unitSlotName:"main"},"Gulf of Lyons":{territory:a.a.GULF_OF_LYONS,unitSlotName:"main"},"Tyrrhenian Sea":{territory:a.a.TYRRHENIAN_SEA,unitSlotName:"main"},"Ionian Sea":{territory:a.a.IONIAN_SEA,unitSlotName:"main"},"Adriatic Sea":{territory:a.a.ADRIATIC_SEA,unitSlotName:"main"},"Aegean Sea":{territory:a.a.AEGEAN_SEA,unitSlotName:"main"},"Eastern Mediterranean":{territory:a.a.EASTERN_MEDITERRANEAN,unitSlotName:"main"},"Black Sea":{territory:a.a.BLACK_SEA,unitSlotName:"main"},Tyrolia:{territory:a.a.TYROLIA,unitSlotName:"main"},Bohemia:{territory:a.a.BOHEMIA,unitSlotName:"main"},Vienna:{territory:a.a.VIENNA,unitSlotName:"main"},Trieste:{territory:a.a.TRIESTE,unitSlotName:"main"},Budapest:{territory:a.a.BUDAPEST,unitSlotName:"main"},Galicia:{territory:a.a.GALICIA,unitSlotName:"main"},"Spain (North Coast)":{territory:a.a.SPAIN,unitSlotName:"nc"},"Spain (South Coast)":{territory:a.a.SPAIN,unitSlotName:"sc"},"St. Petersburg (North Coast)":{parent:a.a.SAINT_PETERSBURG,territory:a.a.SAINT_PETERSBURG_NORTH_COAST,unitSlotName:"nc"},"St. Petersburg (South Coast)":{parent:a.a.SAINT_PETERSBURG,territory:a.a.SAINT_PETERSBURG_SOUTH_COAST,unitSlotName:"sc"},"Bulgaria (North Coast)":{territory:a.a.BULGARIA,unitSlotName:"nc"},"Bulgaria (South Coast)":{territory:a.a.BULGARIA,unitSlotName:"sc"}};e.a=n},29:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var a=r(54),n=r(13);function i(t){var e=t.height,r=t.width,i=Object(a.a)();return r>=i.breakpoints.values.desktop?n.a.DESKTOP:r>=i.breakpoints.values.tabletLandscape&&e<=i.breakpoints.values.tablet?n.a.TABLET_LANDSCAPE:r>=i.breakpoints.values.mobileLgLandscape&&e<=i.breakpoints.values.mobileLg?n.a.MOBILE_LG_LANDSCAPE:r>=i.breakpoints.values.tablet&&e>=i.breakpoints.values.tabletLandscape?n.a.TABLET:r>=i.breakpoints.values.mobileLg&&e>=i.breakpoints.values.mobileLgLandscape?n.a.MOBILE_LG:r>=i.breakpoints.values.mobileLandscape?n.a.MOBILE_LANDSCAPE:n.a.MOBILE}},30:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var a=r(8),n=r(0);function i(){var t=function(){var t=window.visualViewport,e=t.height,r=t.width,a=window.visualViewport.scale;return{height:e=Math.round(e*a),width:r=Math.round(r*a),scale:a}},e=n.useState(t()),r=Object(a.a)(e,2),i=r[0],o=r[1],s=function(){o(t())};return n.useEffect((function(){return window.addEventListener("resize",s),function(){return window.removeEventListener("resize",s)}}),[]),[i,s]}},32:function(t,e,r){"use strict";var a;!function(t){t.NONE="none",t.SELECTED="selected",t.HOLD="hold",t.DISBANDED="disbanded",t.DISLODGED="dislodged",t.BUILD="build",t.ACTIVE="active",t.INACTIVE="inactive"}(a||(a={})),e.a=a},34:function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return i}));var a=r(62),n=function(){return Object(a.b)()},i=a.c},36:function(t,e,r){"use strict";var a;!function(t){t[t.Army=2]="Army",t[t.Fleet=4]="Fleet",t[t.All=6]="All"}(a||(a={})),e.a=a},39:function(t,e,r){"use strict";var a;!function(t){t[t.CONVOY=0]="CONVOY",t[t.MOVE=1]="MOVE",t[t.SUPPORT=2]="SUPPORT",t[t.HOLD=3]="HOLD"}(a||(a={})),e.a=a},4:function(t,e,r){"use strict";var a;!function(t){t[t.ADRIATIC_SEA=0]="ADRIATIC_SEA",t[t.AEGEAN_SEA=1]="AEGEAN_SEA",t[t.ALBANIA=2]="ALBANIA",t[t.ANKARA=3]="ANKARA",t[t.APULIA=4]="APULIA",t[t.ARMENIA=5]="ARMENIA",t[t.BALTIC_SEA=6]="BALTIC_SEA",t[t.BARENTS_SEA=7]="BARENTS_SEA",t[t.BELGIUM=8]="BELGIUM",t[t.BERLIN=9]="BERLIN",t[t.BLACK_SEA=10]="BLACK_SEA",t[t.BOHEMIA=11]="BOHEMIA",t[t.BREST=12]="BREST",t[t.BUDAPEST=13]="BUDAPEST",t[t.BULGARIA=14]="BULGARIA",t[t.BURGUNDY=15]="BURGUNDY",t[t.CHANNEL_1=16]="CHANNEL_1",t[t.CLYDE=17]="CLYDE",t[t.CONSTANTINOPLE=18]="CONSTANTINOPLE",t[t.DENMARK=19]="DENMARK",t[t.EASTERN_MEDITERRANEAN=20]="EASTERN_MEDITERRANEAN",t[t.EDINBURGH=21]="EDINBURGH",t[t.ENGLISH_CHANNEL=22]="ENGLISH_CHANNEL",t[t.FINLAND=23]="FINLAND",t[t.GALICIA=24]="GALICIA",t[t.GASCONY=25]="GASCONY",t[t.GREECE=26]="GREECE",t[t.GULF_OF_BOTHNIA=27]="GULF_OF_BOTHNIA",t[t.GULF_OF_LYONS=28]="GULF_OF_LYONS",t[t.HELIGOLAND_BIGHT=29]="HELIGOLAND_BIGHT",t[t.HOLLAND=30]="HOLLAND",t[t.IONIAN_SEA=31]="IONIAN_SEA",t[t.IRISH_SEA=32]="IRISH_SEA",t[t.KIEL=33]="KIEL",t[t.LIVERPOOL=34]="LIVERPOOL",t[t.LIVONIA=35]="LIVONIA",t[t.LONDON=36]="LONDON",t[t.MARSEILLES=37]="MARSEILLES",t[t.MIDDLE_ATLANTIC=38]="MIDDLE_ATLANTIC",t[t.MOSCOW=39]="MOSCOW",t[t.MUNICH=40]="MUNICH",t[t.NAPLES=41]="NAPLES",t[t.NEUTRAL_1=42]="NEUTRAL_1",t[t.NEUTRAL_2=43]="NEUTRAL_2",t[t.NEUTRAL_3=44]="NEUTRAL_3",t[t.NEUTRAL_4=45]="NEUTRAL_4",t[t.NEUTRAL_5=46]="NEUTRAL_5",t[t.NEUTRAL_6=47]="NEUTRAL_6",t[t.NEUTRAL_7=48]="NEUTRAL_7",t[t.NEUTRAL_8=49]="NEUTRAL_8",t[t.NEUTRAL_9=50]="NEUTRAL_9",t[t.NORTH_AFRICA=51]="NORTH_AFRICA",t[t.NORTH_ATLANTIC=52]="NORTH_ATLANTIC",t[t.NORTH_ATLANTIC2=53]="NORTH_ATLANTIC2",t[t.NORTH_SEA=54]="NORTH_SEA",t[t.NORWAY=55]="NORWAY",t[t.NORWEGIAN_SEA=56]="NORWEGIAN_SEA",t[t.PARIS=57]="PARIS",t[t.PICARDY=58]="PICARDY",t[t.PIEDMONT=59]="PIEDMONT",t[t.PORTUGAL=60]="PORTUGAL",t[t.PRUSSIA=61]="PRUSSIA",t[t.ROME=62]="ROME",t[t.RUHR=63]="RUHR",t[t.RUMANIA=64]="RUMANIA",t[t.SAINT_PETERSBURG=65]="SAINT_PETERSBURG",t[t.SAINT_PETERSBURG_NORTH_COAST=66]="SAINT_PETERSBURG_NORTH_COAST",t[t.SAINT_PETERSBURG_SOUTH_COAST=67]="SAINT_PETERSBURG_SOUTH_COAST",t[t.SERBIA=68]="SERBIA",t[t.SEVASTOPOL=69]="SEVASTOPOL",t[t.SILESIA=70]="SILESIA",t[t.SKAGERRACK=71]="SKAGERRACK",t[t.SKAGERRACK2=72]="SKAGERRACK2",t[t.SMYRNA=73]="SMYRNA",t[t.SPAIN=74]="SPAIN",t[t.SWEDEN=75]="SWEDEN",t[t.SYRIA=76]="SYRIA",t[t.TRIESTE=77]="TRIESTE",t[t.TUNIS=78]="TUNIS",t[t.TUSCANY=79]="TUSCANY",t[t.TYROLIA=80]="TYROLIA",t[t.TYRRHENIAN_SEA=81]="TYRRHENIAN_SEA",t[t.UKRAINE=82]="UKRAINE",t[t.UNPLAYABLE_LAND1=83]="UNPLAYABLE_LAND1",t[t.UNPLAYABLE_LAND2=84]="UNPLAYABLE_LAND2",t[t.UNPLAYABLE_LAND3=85]="UNPLAYABLE_LAND3",t[t.UNPLAYABLE_LAND4=86]="UNPLAYABLE_LAND4",t[t.UNPLAYABLE_LAND5=87]="UNPLAYABLE_LAND5",t[t.UNPLAYABLE_LAND6=88]="UNPLAYABLE_LAND6",t[t.UNPLAYABLE_LAND7=89]="UNPLAYABLE_LAND7",t[t.UNPLAYABLE_LAND8=90]="UNPLAYABLE_LAND8",t[t.UNPLAYABLE_SEA1=91]="UNPLAYABLE_SEA1",t[t.UNPLAYABLE_SEA2=92]="UNPLAYABLE_SEA2",t[t.UNPLAYABLE_SEA3=93]="UNPLAYABLE_SEA3",t[t.UNPLAYABLE_SEA4=94]="UNPLAYABLE_SEA4",t[t.UNPLAYABLE_SEA5=95]="UNPLAYABLE_SEA5",t[t.UNPLAYABLE_SEA6=96]="UNPLAYABLE_SEA6",t[t.UNPLAYABLE_SEA7=97]="UNPLAYABLE_SEA7",t[t.UNPLAYABLE_SEA8=98]="UNPLAYABLE_SEA8",t[t.UNPLAYABLE_SEA9=99]="UNPLAYABLE_SEA9",t[t.VENICE=100]="VENICE",t[t.VIENNA=101]="VIENNA",t[t.WALES=102]="WALES",t[t.WARSAW=103]="WARSAW",t[t.WESTERN_MEDITERRANEAN=104]="WESTERN_MEDITERRANEAN",t[t.YORK=105]="YORK"}(a||(a={})),e.a=a},46:function(t,e,r){"use strict";var a;!function(t){t.FRANCE="France",t.AUSTRIA="Austria",t.ENGLAND="England",t.GERMANY="Germany",t.RUSSIA="Russia",t.ITALY="Italy",t.TURKEY="Turkey"}(a||(a={})),e.a=a},48:function(t,e,r){"use strict";var a=r(46),n={Russia:a.a.RUSSIA,Germany:a.a.GERMANY,Italy:a.a.ITALY,Austria:a.a.AUSTRIA,England:a.a.ENGLAND,France:a.a.FRANCE,Turkey:a.a.TURKEY};e.a=n},49:function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));var a=r(38),n=r(26),i=r(39),o=r(4),s=r(63);function c(t,e,r,c,u,l){var d,h,p,v,f,A,m,b,y,O,N,E,j,S=a.a("#map"),T=o.a[l],C=a.a("#".concat(T,"-territory")).node(),L=a.a("#".concat(T,"-unit")).node();if(L&&C){L=L.parentNode;var I=Number(C.getAttribute("x")),g=Number(C.getAttribute("y")),x=L.getBBox();switch(f=x.x,A=x.y,m=x.width,b=x.height,f=I+Number(L.getAttribute("x"))+f,A=g+Number(L.getAttribute("y"))+A,c){case"arrow":var R=a.b(".arrow__".concat(u)).node();if(R){d=f,p=A;var D=Number(R.getAttribute("x1")),P=Number(R.getAttribute("y1"));O=(h=D+.75*(Number(R.getAttribute("x2"))-D))-d,N=(v=P+.75*(Number(R.getAttribute("y2"))-P))-p,y=60}break;case"unit":var B=o.a[u],M=a.a("#".concat(B,"-unit")).node(),k=a.a("#".concat(B,"-territory")).node();if(k&&M){var w=(M=M.parentNode).getBBox(),U=w.x,_=w.y,G=w.width,H=w.height,F=Number(M.getAttribute("x"))+U,V=Number(M.getAttribute("y"))+_;d=f,p=A,E=G,j=H,O=(h=Number(k.getAttribute("x"))+F)-d,N=(v=Number(k.getAttribute("y"))+V)-p,y=75}break;default:var Y=o.a[u],W=a.a("#".concat(Y,"-arrow-receiver")).node(),z=a.a("#".concat(Y,"-territory")).node();z&&Y&&(d=f,p=A,O=(h=Number(z.getAttribute("x"))+Number(W.getAttribute("x")))-d,N=(v=Number(z.getAttribute("y"))+Number(W.getAttribute("y")))-p,y=75)}var K="arrow__".concat(t);e===i.a.MOVE&&a.b(".".concat(K)).remove();var Z=function(t,e,r,a,n,i,o,s,c,u,l){var d=s,h=c,p=u,v=l;return Math.abs(i)<t&&o<0?(d+=r/2,n&&a&&(h+=n/2,v+=a)):Math.abs(i)<t&&o>0?(p+=e,d+=r/2,n&&(h+=n/2)):i>t&&o<0&&Math.abs(o)>t?(d+=r,a&&(v+=a)):i>t&&Math.abs(o)<t?(p+=e/2,d+=r,a&&(v+=a/2)):i>t&&o>t?(p+=e,d+=r):i<0&&Math.abs(o)<t?(p+=e/2,n&&a&&(h+=n,v+=a/2)):i<0&&o>t&&(p+=e,n&&(h+=n)),{x1:d,x2:h,y1:p,y2:v}}(y,b,m,j,E,O,N,d,h,p,v);d=Z.x1,h=Z.x2,p=Z.y1,v=Z.y2,S.select("#container").append("line").attr("x1",d).attr("y1",p).attr("x2",h).attr("y2",v).attr("marker-end","url(#arrowHead__".concat(i.a[e],"_").concat(n.a[r],")")).attr("stroke",s.a.palette.arrowColors[r].main).attr("stroke-width","3").attr("class",K)}}},55:function(t,e,r){"use strict";function a(t){var e=t.split(",");return{None:e.includes("None"),Saved:e.includes("Saved"),Completed:e.includes("Completed"),Ready:e.includes("Ready")}}r.d(e,"a",(function(){return a}))},63:function(t,e,r){"use strict";var a,n=r(12),i=r(3),o=r(89),s=r(26),c="#000",u="#fff",l={backgroundColor:u,boxShadow:"0 0 2px 2px",color:c},d={backgroundColor:c,boxShadow:"0 0 2px 2px",color:u},h=1.2,p=(a={},Object(i.a)(a,s.a.IMPLIED,{main:"#989898"}),Object(i.a)(a,s.a.IMPLIED_FOREIGN,{main:"rgba(0,0,0,.3)"}),Object(i.a)(a,s.a.MOVE,{main:"#000000"}),Object(i.a)(a,s.a.MOVE_FAILED,{main:"#BB0000"}),Object(i.a)(a,s.a.RETREAT,{main:"#BD2894"}),Object(i.a)(a,s.a.SUPPORT_HOLD,{main:"#3FC621"}),Object(i.a)(a,s.a.SUPPORT_MOVE,{main:"#F8F83D"}),a),v=Object(o.a)({breakpoints:{values:{mobile:0,mobileLandscape:600,mobileLg:414,mobileLgLandscape:896,tablet:820,tabletLandscape:1024,desktop:1200}},components:{MuiUseMediaQuery:{defaultProps:{noSsr:!0}},MuiButton:{styleOverrides:{root:{borderRadius:18,padding:"10px 18px"},containedPrimary:{"&:active":Object(n.a)({},l),"&:focus":Object(n.a)({},d),"&:hover":{backgroundColor:"#757575",color:u}},containedSecondary:{"&.Mui-disabled":{backgroundColor:"transparent",color:"#bababa"},"&:active":Object(n.a)({},l),"&:focus":Object(n.a)({},l),"&:hover":{backgroundColor:"#fafafa"}}}}},palette:Object(n.a)(Object(n.a)({action:{disabledBackground:"#b8b8b8",disabled:"#cacaca"},error:{main:"#f00",contrastText:u},primary:{main:c,contrastText:u},secondary:{main:u,contrastText:c}},{France:{main:"#2D5EE8",light:"#B9C9F7"},Austria:{main:"#FC4343",light:"#FEC0C0"},England:{main:"#E136EA",light:"#F5BCF8"},Germany:{main:"#F37C0E",light:"#FBD3AF"},Russia:{main:"#3F1BC1",light:"#BFB3EA"},Italy:{main:"#47D2A0",light:"#C2F0DF"},Turkey:{main:"#F3C400",light:"#FBEBAA"}}),{},{arrowColors:p,svg:{filters:{dropShadows:["drop-shadow(0px 3px 10px rgba(0, 0, 0, 0.7))","drop-shadow(1px 4px 4px #323232)"]}}}),typography:{button:{fontSize:12,fontWeight:700,lineHeight:h,textTransform:"none"}}});v.typography.body1={fontFamily:v.typography.fontFamily,fontSize:14,fontWeight:400,lineHeight:h},v.typography.h1=Object(i.a)({fontFamily:v.typography.fontFamily,fontSize:16,fontWeight:700,lineHeight:h},v.breakpoints.up("desktop"),{fontSize:20}),v.typography.h2={fontFamily:v.typography.fontFamily,fontSize:14,fontWeight:700,lineHeight:h},v.typography.label={fontFamily:v.typography.fontFamily,fontSize:10,fontWeight:400,lineHeight:1},e.a=v},83:function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var a,n,i=r(3),o=r(36),s=(a={Army:o.a.Army,Fleet:o.a.Fleet},Object(i.a)(a,o.a.Army,"Army"),Object(i.a)(a,o.a.Fleet,"Fleet"),a),c=(n={},Object(i.a)(n,o.a.Army,"Build Army"),Object(i.a)(n,o.a.Fleet,"Build Fleet"),Object(i.a)(n,"Build Army",o.a.Army),Object(i.a)(n,"Build Fleet",o.a.Fleet),n);e.b=c}},[[177,1,2]]]);
//# sourceMappingURL=main.cd2902f8.chunk.js.map