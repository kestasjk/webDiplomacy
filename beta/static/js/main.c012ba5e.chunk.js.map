{"version":3,"sources":["webDiplomacyTheme.ts","enums/Device.ts","enums/ApiRoute.ts","components/ui/WDMain.tsx","hooks/useViewport.ts","utils/getDevice.ts","App.tsx","utils/api/index.ts","state/game/initial-state.ts","state/game/game-api-slice.ts","state/store.ts","index.tsx"],"names":["mainColor","secondaryColor","activeButtonStyle","backgroundColor","boxShadow","color","focusButtonStyle","defaultLineHeight","webDiplomacyTheme","createTheme","breakpoints","values","mobile","mobileLandscape","mobileLg","mobileLgLandscape","tablet","tabletLandscape","desktop","components","MuiUseMediaQuery","defaultProps","noSsr","MuiButton","styleOverrides","root","borderRadius","padding","containedPrimary","containedSecondary","palette","action","disabledBackground","disabled","error","main","contrastText","primary","secondary","France","light","Austria","England","Germany","Russia","Italy","Turkey","arrowColors","moveOrderSelected","move","convoy","moveFailed","moveSupport","holdSupport","retreat","typography","button","fontSize","fontWeight","lineHeight","textTransform","body1","fontFamily","h1","up","h2","label","Device","ApiRoute","WDMapController","React","WDMain","getViewport","window","visualViewport","height","width","scale","Math","round","viewport","setValue","useViewport","setViewport","addEventListener","removeEventListener","device","theme","useTheme","DESKTOP","TABLET_LANDSCAPE","MOBILE_LG_LANDSCAPE","TABLET","MOBILE_LG","MOBILE_LANDSCAPE","MOBILE","getDevice","fallback","DemoControls","territoryName","setTerritory","countryName","setCountry","style","position","display","zIndex","top","left","type","name","placeholder","onChange","e","target","value","margin","marginLeft","textAlign","cursor","onClick","territoryElement","document","getElementById","toUpperCase","setAttribute","toLowerCase","alert","triggerCapture","App","Box","className","api","axios","create","baseURL","process","REACT_APP_WD_API_BASE_URL","headers","getGameApiRequest","route","queryParams","get","params","Object","entries","reduce","keyValuePairs","key","push","encodeURI","join","initialState","apiStatus","overview","anon","drawType","excusedMissedTurns","gameOver","members","country","countryID","id","online","userID","minimumBet","pauseTimeRemaining","phase","phaseMinutes","playerTypes","pot","potType","processStatus","processTime","startTime","turn","variant","mapID","fullName","description","author","countries","variantClasses","drawMap","adjudicatorPreGame","codeVersion","cacheVersion","coastParentIDByChildID","coastChildIDsByParentID","terrIDByName","supplyCenterCount","supplyCenterTarget","variantID","status","gameID","pressType","phases","standoffs","occupiedFrom","votes","orderStatus","fetchGameOverview","createAsyncThunk","GAME_OVERVIEW","a","data","fetchGameStatus","GAME_STATUS","gameApiSlice","createSlice","reducers","extraReducers","builder","addCase","pending","state","fulfilled","payload","rejected","message","store","configureStore","reducer","game","gameApiSliceReducer","ReactDOM","render","StrictMode","ThemeProvider","CssBaseline"],"mappings":"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","file":"static/js/main.c012ba5e.chunk.js","sourcesContent":["import { createTheme, SimplePaletteColorOptions } from \"@mui/material/styles\";\nimport Country from \"./enums/Country\";\nimport ArrowType from \"./enums/ArrowType\";\n\ndeclare module \"@mui/material/styles\" {\n  interface BreakpointOverrides {\n    xs: false;\n    sm: false;\n    md: false;\n    lg: false;\n    xl: false;\n    mobile: true;\n    mobileLandscape: true;\n    mobileLg: true;\n    mobileLgLandscape: true;\n    tablet: true;\n    tabletLandscape: true;\n    desktop: true;\n  }\n\n  interface TypographyVariants {\n    label: React.CSSProperties;\n  }\n\n  export interface TypographyVariantsOptions {\n    label?: React.CSSProperties;\n  }\n}\n\ndeclare module \"@mui/material/Typography\" {\n  interface TypographyPropsVariantOverrides {\n    label: true;\n  }\n}\n\ndeclare module \"@mui/material/styles\" {\n  interface Palette {\n    France: SimplePaletteColorOptions;\n    Austria: SimplePaletteColorOptions;\n    England: SimplePaletteColorOptions;\n    Germany: SimplePaletteColorOptions;\n    Russia: SimplePaletteColorOptions;\n    Italy: SimplePaletteColorOptions;\n    Turkey: SimplePaletteColorOptions;\n    arrowColors: {\n      moveOrderSelected: SimplePaletteColorOptions;\n      move: SimplePaletteColorOptions;\n      convoy: SimplePaletteColorOptions;\n      moveFailed: SimplePaletteColorOptions;\n      moveSupport: SimplePaletteColorOptions;\n      holdSupport: SimplePaletteColorOptions;\n      retreat: SimplePaletteColorOptions;\n    };\n  }\n}\n\ndeclare module \"@mui/material/styles/createPalette\" {\n  export interface PaletteOptions {\n    arrowColors: {\n      moveOrderSelected: SimplePaletteColorOptions;\n      move: SimplePaletteColorOptions;\n      convoy: SimplePaletteColorOptions;\n      moveFailed: SimplePaletteColorOptions;\n      moveSupport: SimplePaletteColorOptions;\n      holdSupport: SimplePaletteColorOptions;\n      retreat: SimplePaletteColorOptions;\n    };\n  }\n}\n\n/**\n * constants\n * ===\n * define constants that are to be re-used in the theme. use generic names that\n * describe their usage.\n */\nconst mainColor = \"#000\";\nconst secondaryColor = \"#fff\";\nconst activeButtonStyle = {\n  backgroundColor: secondaryColor,\n  boxShadow: \"0 0 2px 2px\",\n  color: mainColor,\n};\n\nconst focusButtonStyle = {\n  backgroundColor: mainColor,\n  boxShadow: \"0 0 2px 2px\",\n  color: secondaryColor,\n};\nconst boldFontWeight = 700;\nconst disabledBackground = \"#b8b8b8\";\nconst disabledText = \"#cacaca\";\nconst disabledBackgroundSecondary = \"transparent\";\nconst disabledTextSecondary = \"#bababa\";\nconst defaultLineHeight = 1.2;\nconst normalFontWeight = 400;\n\ntype CountryPaletteOptions = {\n  [key in Country]: SimplePaletteColorOptions;\n};\n\nconst countryPalette: CountryPaletteOptions = {\n  France: {\n    main: \"#2D5EE8\",\n    light: \"#B9C9F7\",\n  },\n  Austria: {\n    main: \"#FC4343\",\n    light: \"#FEC0C0\",\n  },\n  England: {\n    main: \"#E136EA\",\n    light: \"#F5BCF8\",\n  },\n  Germany: {\n    main: \"#F37C0E\",\n    light: \"#FBD3AF\",\n  },\n  Russia: {\n    main: \"#3F1BC1\",\n    light: \"#BFB3EA\",\n  },\n  Italy: {\n    main: \"#47D2A0\",\n    light: \"#C2F0DF\",\n  },\n  Turkey: {\n    main: \"#F3C400\",\n    light: \"#FBEBAA\",\n  },\n};\n\ntype ArrowColors = {\n  [key in ArrowType]: SimplePaletteColorOptions;\n};\n\nconst arrowColors: ArrowColors = {\n  moveOrderSelected: { main: \"#FFFFFF\" },\n  move: { main: \"#000000\" },\n  convoy: { main: \"#2042B8\" },\n  moveFailed: { main: \"#BB0000\" },\n  moveSupport: { main: \"#F8F83D\" },\n  holdSupport: { main: \"#3FC621\" },\n  retreat: { main: \"#BD2894\" },\n};\n\n/**\n * theme creation\n */\nconst webDiplomacyTheme = createTheme({\n  breakpoints: {\n    values: {\n      mobile: 0,\n      mobileLandscape: 600,\n      mobileLg: 414,\n      mobileLgLandscape: 896,\n      tablet: 834,\n      tabletLandscape: 1024,\n      desktop: 1500,\n    },\n  },\n  components: {\n    MuiUseMediaQuery: {\n      defaultProps: {\n        noSsr: true,\n      },\n    },\n    MuiButton: {\n      styleOverrides: {\n        root: {\n          borderRadius: 18,\n          padding: \"10px 18px\",\n        },\n        containedPrimary: {\n          \"&:active\": {\n            ...activeButtonStyle,\n          },\n          \"&:focus\": {\n            ...focusButtonStyle,\n          },\n          \"&:hover\": {\n            backgroundColor: \"#757575\",\n            color: secondaryColor,\n          },\n        },\n        containedSecondary: {\n          \"&.Mui-disabled\": {\n            backgroundColor: disabledBackgroundSecondary,\n            color: disabledTextSecondary,\n          },\n          \"&:active\": {\n            ...activeButtonStyle,\n          },\n          \"&:focus\": {\n            ...activeButtonStyle,\n          },\n          \"&:hover\": {\n            backgroundColor: \"#fafafa\",\n          },\n        },\n      },\n    },\n  },\n  palette: {\n    action: {\n      disabledBackground,\n      disabled: disabledText,\n    },\n    error: {\n      main: \"#f00\",\n      contrastText: secondaryColor,\n    },\n    primary: {\n      main: mainColor,\n      contrastText: secondaryColor,\n    },\n    secondary: {\n      main: secondaryColor,\n      contrastText: mainColor,\n    },\n    ...countryPalette,\n    arrowColors,\n  },\n  typography: {\n    button: {\n      fontSize: 12,\n      fontWeight: boldFontWeight,\n      lineHeight: defaultLineHeight,\n      textTransform: \"none\",\n    },\n  },\n});\n\n/**\n * responsive overrides\n */\nwebDiplomacyTheme.typography.body1 = {\n  fontFamily: webDiplomacyTheme.typography.fontFamily,\n  fontSize: 14,\n  fontWeight: normalFontWeight,\n  lineHeight: defaultLineHeight,\n};\n\nwebDiplomacyTheme.typography.h1 = {\n  fontFamily: webDiplomacyTheme.typography.fontFamily,\n  fontSize: 16,\n  fontWeight: boldFontWeight,\n  lineHeight: defaultLineHeight,\n  [webDiplomacyTheme.breakpoints.up(\"desktop\")]: {\n    fontSize: 20,\n  },\n};\n\nwebDiplomacyTheme.typography.h2 = {\n  fontFamily: webDiplomacyTheme.typography.fontFamily,\n  fontSize: 14,\n  fontWeight: boldFontWeight,\n  lineHeight: defaultLineHeight,\n};\n\nwebDiplomacyTheme.typography.label = {\n  fontFamily: webDiplomacyTheme.typography.fontFamily,\n  fontSize: 10,\n  fontWeight: normalFontWeight,\n  lineHeight: 1,\n};\n\nexport default webDiplomacyTheme;\n","enum Device {\n  DESKTOP = \"DESKTOP\",\n  MOBILE = \"MOBILE\",\n  MOBILE_LANDSCAPE = \"MOBILE_LANDSCAPE\",\n  MOBILE_LG = \"MOBILE_LG\",\n  MOBILE_LG_LANDSCAPE = \"MOBILE_LG_LANDSCAPE\",\n  TABLET = \"TABLET\",\n  TABLET_LANDSCAPE = \"TABLET_LANDSCAPE\",\n}\n\nexport default Device;\n","enum ApiRoute {\n  GAME_STATUS = \"game/status\",\n  GAME_OVERVIEW = \"game/overview\",\n}\n\nexport default ApiRoute;\n","import * as React from \"react\";\nimport getDevice from \"../../utils/getDevice\";\nimport useViewport from \"../../hooks/useViewport\";\n\nconst WDMapController = React.lazy(() => import(\"../map/WDMapController\"));\n\nconst WDMain: React.FC = function (): React.ReactElement {\n  const [viewport, setViewport] = useViewport();\n\n  React.useLayoutEffect(() => {\n    window.addEventListener(\"resize\", setViewport);\n    return () => window.removeEventListener(\"resize\", setViewport);\n  }, []);\n\n  const device = getDevice(viewport);\n  return (\n    <React.Suspense fallback={<div>Loading...</div>}>\n      <WDMapController device={device} viewport={viewport} />\n    </React.Suspense>\n  );\n};\n\nexport default WDMain;\n","import * as React from \"react\";\nimport { Viewport } from \"../interfaces\";\n\nexport default function useViewport(): [Viewport, () => void] {\n  const getViewport = (): Viewport => {\n    let { height, width } = window.visualViewport;\n    const { scale } = window.visualViewport;\n    height = Math.round(height * scale);\n    width = Math.round(width * scale);\n    return {\n      height,\n      width,\n      scale,\n    };\n  };\n\n  const [viewport, setValue] = React.useState<Viewport>(getViewport());\n\n  const setViewport = () => {\n    setValue(getViewport());\n  };\n\n  return [viewport, setViewport];\n}\n","import { useTheme } from \"@mui/material\";\nimport Device from \"../enums/Device\";\n\nexport default function getDevice({\n  height,\n  width,\n}: {\n  width: number;\n  height: number;\n}): Device {\n  const theme = useTheme();\n\n  const desktop = width >= theme.breakpoints.values.desktop;\n  if (desktop) {\n    return Device.DESKTOP;\n  }\n\n  const tabletLandscape =\n    width >= theme.breakpoints.values.tabletLandscape &&\n    height <= theme.breakpoints.values.tablet;\n  if (tabletLandscape) {\n    return Device.TABLET_LANDSCAPE;\n  }\n\n  const mobileLgLandscape =\n    width >= theme.breakpoints.values.mobileLgLandscape &&\n    height <= theme.breakpoints.values.mobileLg;\n  if (mobileLgLandscape) {\n    return Device.MOBILE_LG_LANDSCAPE;\n  }\n\n  const tablet =\n    width >= theme.breakpoints.values.tablet &&\n    height >= theme.breakpoints.values.tabletLandscape;\n  if (tablet) {\n    return Device.TABLET;\n  }\n\n  const mobileLg =\n    width >= theme.breakpoints.values.mobileLg &&\n    height >= theme.breakpoints.values.mobileLgLandscape;\n  if (mobileLg) {\n    return Device.MOBILE_LG;\n  }\n\n  const mobileLandscape = width >= theme.breakpoints.values.mobileLandscape;\n  if (mobileLandscape) {\n    return Device.MOBILE_LANDSCAPE;\n  }\n\n  return Device.MOBILE;\n}\n","import * as React from \"react\";\nimport \"./assets/css/App.css\";\nimport Box from \"@mui/material/Box\";\nimport WDMain from \"./components/ui/WDMain\";\n\nconst DemoControls: React.FC = function (): React.ReactElement {\n  const [territoryName, setTerritory] = React.useState(\"\");\n  const [countryName, setCountry] = React.useState(\"\");\n\n  const triggerCapture = () => {\n    const territoryElement = document.getElementById(\n      `${territoryName.toUpperCase()}-control-path`,\n    );\n\n    if (!territoryElement) {\n      return alert(\"Territory not found!\"); // eslint-disable-line\n    }\n\n    territoryElement.setAttribute(\n      \"filter\",\n      `url(#${countryName.toLowerCase()})`,\n    );\n\n    return territoryElement;\n  };\n\n  return (\n    <div\n      style={{\n        position: \"absolute\",\n        display: \"fixed\",\n        backgroundColor: \"#FFF\",\n        zIndex: 10,\n        top: 10,\n        left: 10,\n        padding: 10,\n        borderRadius: 5,\n      }}\n    >\n      <input\n        type=\"text\"\n        name=\"countryName\"\n        placeholder=\"COUNTRY\"\n        onChange={(e) => {\n          setCountry(e.target.value);\n        }}\n      />\n      <strong style={{ margin: \"0 10px\" }}>will control</strong>\n      <input\n        type=\"text\"\n        name=\"territoryName\"\n        placeholder=\"TERRITORY\"\n        onChange={(e) => {\n          setTerritory(e.target.value);\n        }}\n      />\n      <div // eslint-disable-line\n        style={{\n          color: \"#FFF\",\n          fontWeight: \"500\",\n          display: \"inline-block\",\n          padding: \"6px 8px\",\n          marginLeft: 10,\n          backgroundColor: \"#000\",\n          borderRadius: 10,\n          lineHeight: 1,\n          width: 100,\n          textAlign: \"center\",\n          cursor: \"pointer\",\n        }}\n        onClick={() => triggerCapture()}\n      >\n        CONTROL IT!\n      </div>\n    </div>\n  );\n};\n\nconst App: React.FC = function (): React.ReactElement {\n  return (\n    <Box className=\"App\">\n      <WDMain />\n      <DemoControls />\n    </Box>\n  );\n};\n\nexport default App;\n","import axios, { AxiosResponse } from \"axios\";\nimport ApiRoute from \"../../enums/ApiRoute\";\n\nexport type QueryParams = {\n  [key: string]: string;\n};\n\nconst buildQueryString = (params: QueryParams): string =>\n  Object.entries(params)\n    .reduce((keyValuePairs: string[], [key, value]) => {\n      if (value) {\n        keyValuePairs.push(`${encodeURI(key)}=${encodeURI(value)}`);\n      }\n      return keyValuePairs;\n    }, [])\n    .join(\"&\");\n\nconst api = axios.create({\n  baseURL: process.env.REACT_APP_WD_API_BASE_URL,\n  headers: {\n    \"Content-Type\": \"multipart/form-data\",\n  },\n});\n\nexport const getGameApiRequest = (\n  route: ApiRoute,\n  queryParams: QueryParams,\n): Promise<AxiosResponse> =>\n  api.get(`?route=${route}&${buildQueryString(queryParams)}`);\n","import { GameState } from \"../interfaces/GameState\";\n\nconst initialState: GameState = {\n  apiStatus: \"idle\",\n  error: null,\n  overview: {\n    anon: \"Yes\",\n    drawType: \"draw-votes-public\",\n    excusedMissedTurns: 4,\n    gameOver: \"No\",\n    members: [\n      {\n        country: \"\",\n        countryID: 0,\n        id: 855,\n        online: false,\n        userID: 6,\n      },\n      {\n        country: \"\",\n        countryID: 0,\n        id: 856,\n        online: true,\n        userID: 5,\n      },\n    ],\n    minimumBet: 5,\n    name: \"\",\n    pauseTimeRemaining: null,\n    phase: \"\",\n    phaseMinutes: 14400,\n    playerTypes: \"\",\n    pot: 10,\n    potType: \"\",\n    processStatus: \"\",\n    processTime: null,\n    startTime: 0,\n    turn: 0,\n    variant: {\n      id: 1,\n      mapID: 1,\n      name: \"Classic\",\n      fullName: \"Classic\",\n      description: \"The standard Diplomacy map of Europe.\",\n      author: \"Avalon Hill\",\n      countries: [\n        \"England\",\n        \"France\",\n        \"Italy\",\n        \"Germany\",\n        \"Austria\",\n        \"Turkey\",\n        \"Russia\",\n      ],\n      variantClasses: {\n        drawMap: \"Classic\",\n        adjudicatorPreGame: \"Classic\",\n      },\n      codeVersion: null,\n      cacheVersion: null,\n      coastParentIDByChildID: {\n        \"76\": 8,\n        \"77\": 8,\n        \"78\": 32,\n        \"79\": 32,\n        \"80\": 20,\n        \"81\": 20,\n      },\n      coastChildIDsByParentID: {\n        \"8\": [76, 77],\n        \"32\": [78, 79],\n        \"20\": [80, 81],\n      },\n      terrIDByName: null,\n      supplyCenterCount: 34,\n      supplyCenterTarget: 18,\n    },\n    variantID: 1,\n  },\n  status: {\n    gameID: 2,\n    countryID: 0,\n    variantID: 1,\n    potType: \"\",\n    turn: 0,\n    phase: \"\",\n    gameOver: \"No\",\n    pressType: \"\",\n    phases: [],\n    standoffs: [],\n    occupiedFrom: [],\n    votes: null,\n    orderStatus: \"\",\n    status: \"\",\n  },\n};\n\nexport default initialState;\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport ApiRoute from \"../../enums/ApiRoute\";\nimport { getGameApiRequest } from \"../../utils/api\";\nimport GameOverviewResponse from \"../interfaces/GameOverviewResponse\";\nimport { ApiStatus } from \"../interfaces/GameState\";\nimport GameStatusResponse from \"../interfaces/GameStatusResponse\";\nimport { RootState } from \"../store\";\nimport initialState from \"./initial-state\";\n\nexport const fetchGameOverview = createAsyncThunk(\n  ApiRoute.GAME_OVERVIEW,\n  async (queryParams: { gameID: string }) => {\n    const { data } = await getGameApiRequest(\n      ApiRoute.GAME_OVERVIEW,\n      queryParams,\n    );\n    return data as GameOverviewResponse;\n  },\n);\n\nexport const fetchGameStatus = createAsyncThunk(\n  ApiRoute.GAME_STATUS,\n  async (queryParams: { countryID: string; gameID: string }) => {\n    const { data } = await getGameApiRequest(ApiRoute.GAME_STATUS, queryParams);\n    return data as GameStatusResponse;\n  },\n);\n\n/**\n * createSlice handles state changes properly without reassiging state, but\n * eslint does not know this. therefore, no-param-reassign is disabled for\n * the createSlice block of code below.\n */\n\n/* eslint-disable no-param-reassign */\nconst gameApiSlice = createSlice({\n  name: \"game\",\n  initialState,\n  reducers: {},\n  extraReducers(builder) {\n    builder\n      // fetchGameOverview\n      .addCase(fetchGameOverview.pending, (state) => {\n        state.apiStatus = \"loading\";\n      })\n      .addCase(fetchGameOverview.fulfilled, (state, action) => {\n        state.apiStatus = \"succeeded\";\n        state.overview = action.payload;\n      })\n      .addCase(fetchGameOverview.rejected, (state, action) => {\n        state.apiStatus = \"failed\";\n        state.error = action.error.message;\n      })\n      // fetchGameStatus\n      .addCase(fetchGameStatus.pending, (state) => {\n        state.apiStatus = \"loading\";\n      })\n      .addCase(fetchGameStatus.fulfilled, (state, action) => {\n        state.apiStatus = \"succeeded\";\n        state.status = action.payload;\n      })\n      .addCase(fetchGameStatus.rejected, (state, action) => {\n        state.apiStatus = \"failed\";\n        state.error = action.error.message;\n      });\n  },\n});\n/* eslint-enable no-param-reassign */\n\nexport const gameOverview = ({\n  game: { overview },\n}: RootState): GameOverviewResponse => overview;\nexport const gameStatus = ({\n  game: { status },\n}: RootState): GameStatusResponse => status;\nexport const gameApiStatus = ({ game: { apiStatus } }: RootState): ApiStatus =>\n  apiStatus;\nexport default gameApiSlice.reducer;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport gameApiSliceReducer from \"./game/game-api-slice\";\n\nexport const store = configureStore({\n  reducer: {\n    game: gameApiSliceReducer,\n  },\n});\n\nexport type AppDispatch = typeof store.dispatch;\nexport type RootState = ReturnType<typeof store.getState>;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { CssBaseline, ThemeProvider } from \"@mui/material\";\nimport { Provider } from \"react-redux\";\nimport webDiplomacyTheme from \"./webDiplomacyTheme\";\nimport \"./assets/css/index.css\";\nimport App from \"./App\";\nimport { store } from \"./state/store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <ThemeProvider theme={webDiplomacyTheme}>\n        <CssBaseline />\n        <App />\n      </ThemeProvider>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\"),\n);\n"],"sourceRoot":""}